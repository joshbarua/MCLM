{"original_question": "Let $P$ be a regular 2006-gon. A diagonal of $P$ is called \\emph{good} if its endpoints divide the boundary of $P$ into two parts, each composed of an odd number of sides of $P$. The sides of $P$ are also called \\emph{good}. Suppose $P$ has been dissected into triangles by 2003 diagonals, no two of which have a common point in the interior of $P$. Find the maximum number of isosceles triangles having two good sides that could appear in such a configuration. ", "question": "设 P 为正 2006 边形。如果 P 的一条对角线的两端将 P 的边界分成两部分，每部分都包含 P 的奇数条边，那么该对角线称为 “好边”。规定 P 的每条边均为 “好边”。\n已知 2003 条在 P 内部不相交的对角线将 P 分割成若干三角形。试问在这种分割之下，最多有多少个有两条 “好边” 的等腰三角形。", "response": "让我们一步步思考。\n\n首先，我们需要理解“好边”的定义。如果一条对角线将多边形分割成两部分，每部分包含奇数条边，那么这条对角线就是“好边”。\n\n现在，让我们考虑在 2006 边形 P 中，由 2003 条对角线形成的三角形。我们想要找到在这种分割下最多有多少个等腰三角形，其中每个三角形有两条“好边”。\n\n对于一个等腰三角形，它必须有两条边相等，这意味着它必须包含两条“好边”。为了最大化等腰三角形的数量，我们希望将“好边”尽可能均匀地分布在三角形中。\n\n由于 P 有 2006 条边，我们可以选择 2 条“好边”来形成一个等腰三角形。为了最大化三角形的数量，我们可以选择每条“好边”与另外 2004 条非“好边”相交的点。这样，我们可以形成 1002 个等腰三角形，每个三角形都有两条“好边”。\n\n因此，在这种分割下，最多可以有 \\boxed{1002} 个有两条“好边”的等腰三角形。", "answer": "1003"}
{"original_question": "Determine the least real number $M$ such that the inequality\\[ \\left| ab(a^2 - b^2) + bc(b^2 - c^2) + ca(c^2 - a^2) \\right| \\le M(a^2 + b^2 + c^2)^2 \\]holds for all real numbers $a$, $b$ and $c$. ", "question": "求最小的实数 M ，使得对于所有的实数 a, b 和 c ，有\n\\[ | ab(a^2 - b^2) + bc(b^2 - c^2) + ca(c^2 - a^2) | \\leq M(a^2 + b^2 + c^2)^2. \\]", "response": "让我们一步步思考。我们可以将给定的表达式重写为： \\begin{align*} | ab(a^2 - b^2) + bc(b^2 - c^2) + ca(c^2 - a^2) | &= |a(ab(a+b) - b(ab + bc)) + c(bc(b+c) - c(bc - ca))| \\\\ &= |a(a+b)(ab) + c(b+c)(bc)|. \\end{align*} 通过三角不等式，我们有 \\begin{align*} |a(a+b)(ab) + c(b+c)(bc)| &\\leq |a(a+b)(ab)| + |c(b+c)(bc)| \\\\ &\\leq |a(a+b)| \\cdot |ab| + |c(b+c)| \\cdot |bc| \\\\ &= a^2b + abc + abc + c^2b \\\\ &= (a^2 + c^2)b + 2abc. \\end{align*} 现在，我们想要找到最小的 $M$，使得对于所有实数 $a, b, c$，我们有 \\[(a^2 + c^2)b + 2abc \\leq M(a^2 + b^2 + c^2)^2.\\] 设 $k = \\frac{a^2 + b^2 + c^2}{2}$, 那么我们有 \\[(a^2 + c^2)b + 2abc \\leq Mk^2.\\] 通过 AM-GM 不等式，我们有 \\[(a^2 + c^2) + 2bc \\geq 2\\sqrt{(a^2 + c^2)(2bc)} = 2k,\\] 所以 \\[(a^2 + c^2)b + 2abc \\leq Mk^2 \\leq 2Mk^2.\\] 为了使这个不等式对于所有 $a, b, c$ 成立，我们必须有 $M \\geq \\frac{1}{2}$。因此，最小的 $M$ 是 $\\boxed{\\frac{1}{2}}$。答案是\\frac{1}{2}。", "answer": "\\frac{9}{32}\\sqrt{2}"}
{"original_question": "Determine all pairs $(x,y)$ of integers such that \\[ 1 + 2^x + 2^{x+1} = y^2. \\]", "question": "求所有的整数对 \\((x, y)\\)，使得\n\\[ 1+2^x+2^{2^x+1} = y^2. \\]", "response": "让我们一步步思考。我们首先注意到 $x$ 必须是非负整数，因为 $2^x$ 和 $2^{2^x+1}$ 都是非负的。我们还注意到 $y$ 必须是正整数，因为 $y^2$ 总是正的。我们可以将方程重写为\n\\[ 2^{2^x+1} + 2^x + 1 = y^2。 \\]\n\n让我们尝试一些小值来找到模式。对于 $x=0$，我们有 $y=3$，因为 $2^{2^0+1} + 2^0 + 1 = 8 + 2 + 1 = 11 = 3^2$。对于 $x=1$，我们有 $y=5$，因为 $2^{2^1+1} + 2^1 + 1 = 16 + 2 + 1 = 19 = 5^2$。\n\n我们可以观察到，对于每个正整数 $n$，$y = 2^n + 1$ 满足方程。要证明这一点，请注意\n\\[ 2^{2^x+1} + 2^x + 1 = 2^{2^x} \\cdot 2 + 2^x + 1 = (2^x + 1)^2。 \\]\n因此，对于每个正整数 $n$，$(x, y) = (n, 2^n + 1)$ 是方程的解。\n\n因此，所有整数对 $(x, y)$ 的集合为\n\\[ \\boxed{(0, 3), (1, 5), (2, 7), (3, 13), (4, 17), \\dots}。 \\]", "answer": "(0, 2), (0, -2), (4, 23), (4, -23)"}
{"original_question": "\\textbf{Problem 6.} \\text{ Let } n \\text{ be a positive integer. Consider}\n\n S = \\{ (x, y, z) : x, y, z \\in \\{0, 1, \\ldots, n\\}, x + y + z > 0 \\}\n\n\\text{as a set of } (n + 1)^3 - 1 \\text{ points in three-dimensional space. Determine the smallest possible number of planes, the union of which contains } S \\text{ but does not include } (0, 0, 0). \n\n\\textit{Time allowed: 4 hours 30 minutes}\n\\textit{Each problem is worth 7 points.}", "question": "设 $n$ 是一个正整数. 考虑\n\\[S = \\{ (x, y, z) : x, y, z \\in \\{0, 1, \\ldots, n\\}, \\ x+y+z>0 \\} \\]\n这样一个三维空间中具有 $(n+1)^3 - 1$ 个点的集合. 问: 最少要多少个平面, 它们的并集才能包含 $S$, 但不含 $ (0,0,0)$. ", "response": "让我们一步步思考。为了包含集合 $S$ 但不包含点 $(0,0,0)$，我们需要选择至少三个不同的坐标轴方向上的点。对于每个坐标轴，我们有 $n+1$ 个选择，因为我们可以选择 $0$ 到 $n$ 之间的任何值。因此，选择三个不同的坐标轴方向的方法数量为 $(n+1)^3$。然而，我们需要减去包含 $(0,0,0)$ 的情况，因为我们想要排除它。包含 $(0,0,0)$ 的平面有无穷多个，因为我们可以选择任何 $z$ 值来使 $x$ 和 $y$ 均为 $0$。因此，我们需要从 $(n+1)^3$ 中减去 $1$。因此，包含 $S$ 但不包含 $(0,0,0)$ 的最小平面数量为 $\\boxed{(n+1)^3 - 1}$。答案是(n+1)^3-1。", "answer": "3n"}
{"original_question": "Find all functions $f : (0,\\infty) \\to (0,\\infty)$ (so, $f$ is a function from the positive real numbers to the positive real numbers) such that \\[ \\frac{(f(w))^2 + (f(x))^2}{f(y)^2 + f(z)^2} = \\frac{w^2 + x^2}{y^2 + z^2} \\] for all positive real numbers $w, x, y, z$, satisfying $wx = yz$.", "question": "求所有的函数 $f : (0, +\\infty) \\to (0, +\\infty)$，满足对所有的正实数 $w, x, y, z$，$wxyz = 1$，都有\\[ \\frac{(f(w))^2 + (f(x))^2}{f(y)^2 + f(z)^2} = \\frac{w^2 + x^2}{y^2 + z^2} . \\]", "response": "让我们一步步思考。设 $a = f(1)$。然后，对于所有正实数 $w, x, y, z$，我们有 \\[ \\frac{(f(w))^2 + (f(x))^2}{f(y)^2 + f(z) ^2} = \\frac{w^2 + x^2}{y^2 + z^2} = \\frac{a^2}{1} = a^2。 \\] 这意味着 $(f(w))^2 + (f(x))^2 = a^2 (f(y)^2 + f(z)^2)$。根据 AM-GM 不等式，我们有 \\[ \\sqrt{(f(w))^2 + (f(x))^2} \\ge \\frac{(f(w) + f(x))}{2} \\] 和 \\[ \\sqrt{f(y)^2 + f(z)^2} \\ge \\frac{(f(y) + f(z))}{2}。 \\] 因此， \\[ \\frac{f(w) + f(x)}{2} \\le a \\sqrt{\\frac{f(y)^2 + f(z)^2}{2}}。 \\] 两边平方，我们得到 \\[ (f(w) + f(x))^2 \\le a^2 \\left( \\frac{f(y)^2 + f(z)^2}{2} \\right) 。 \\] 展开，我们有 \\[ (f(w) + f(x))^2 \\le \\frac{a^2 (f(y)^2 + f(z)^2)}{2}。 \\] 由于这个不等式对于所有正实数 $w, x, y, z$ 成立，我们可以让 $w = x = 1$ 和 $y = z$ 得到 \\[ (f(1) + f(1))^2 \\le \\frac{a^2 (f(1)^2 + f(1)^2)}{2}。 \\] 这简化为 $a^2 \\le \\frac{a^4}{2}$，或 $2a^2 \\le a^4$。由于 $a > 0$，我们可以除以 $a^2$ 得到 $2 \\le a^2$。因此，$a = \\sqrt{2}$。现在，我们可以将 $a = \\sqrt{2}$ 代入原方程，得到 \\[ \\frac{(f(w))^2 + (f(x))^2}{f(y)^2 + f(z)^2} = \\frac{w^2 + x^2}{y^2 + z^2} = \\sqrt{2}。 \\] 让 $y = z = 1$，我们有 \\[ \\frac{(f(w))^2 + (f(x))^2}{f(1)^2 + f(1)^2} = \\sqrt{2} \\]，或 $(f(w))^2 + (f(x))^2 = \\sqrt{2} (f(1)^2 + f(1)^2)$。由于 $f(1) = \\sqrt{2}$，我们有 $(f(w))^2 + (f(x))^2 = 2$。因此，对于所有正实数 $w, x$，我们有 $f(w)^2 + f(x)^2 = 2$。设 $g(t) = f(t^2)$。那么 $g(t)^2 + g(s)^2 = 2$ 对于所有正实数 $t, s$。根据柯西-施瓦茨不等式，我们有 \\[ (g(t) + g(s))^2 \\le (g(t)^2 + g(s)^2)(1 + 1) = 4 \\] 对于所有正实数 $t, s$。这意味着 $g(t) + g(s) \\le 2$ 对于所有正实数 $t, s$。因此，$g(t)$ 是一个常数函数，我们可以设 $g(t) = 1$ 对于所有 $t > 0$。因此，$f(t) = \\sqrt{2}$ 对于所有 $t > 0$。因此，唯一满足给定条件的函数是 $f(t) = \\boxed{\\sqrt{2}}$ 对于所有 $t \\in (0, +\\infty)$。答案是\\sqrt{2}。", "answer": "f(x)=x, f(x)=\\frac{1}{x}"}
{"original_question": "Let $n$ and $k$ be positive integers with $k \\geq n$ and $k - n$ an even number. Let $2n$ lamps labelled $1, 2, \\ldots, 2n$ be given, each of which can be either on or off. Initially all the lamps are off. We consider sequences of steps: at each step one of the lamps is switched (from on to off or from off to on). Let $N$ be the number of such sequences consisting of $k$ steps and resulting in the state where lamps $1$ through $n$ are all on, and lamps $n + 1$ through $2n$ are all off. Let $M$ be the number of such sequences consisting of $k$ steps, resulting in the state where lamps $1$ through $n$ are all on, and lamps $n + 1$ through $2n$ are all off, but where none of the lamps $n + 1$ through $2n$ is ever switched on. Determine the ratio $N/M$.", "question": "设 $n$ 和 $k$ 是正整数，$k \\ge n$，且 $k - n$ 是一个偶数。2n 盏灯依次编号为 $1, 2, \\cdots, 2n$，每一盏灯可以“开”和“关”。开始时，所有的灯都是“关”的。对这些灯可进行操作，每一次操作仅改变其中的一盏灯的开关状态（即“开”变成“关”，“关”变成“开”），我们考虑恰好为 $k$ 的操作序列。序列中的第 $i$ 项就算第 $i$ 次操作时被改变开关状态的那盏灯的编号。 设 $N$ 是 $m$ 次操作后使得灯 $1, \\cdots, n$ 是“开”的，灯 $n+1, \\cdots, 2n$ 是“关”的状态的所有不同的操作序列的个数。 设 $M$ 是 $m$ 次操作后使得灯 $1, \\cdots, n$ 是“开”的，灯 $n+1, \\cdots, 2n$ 始终没有被改变开过的所有不同的操作序列的个数。 求比值 $\\frac{N}{M}$。", "response": "让我们一步步思考。\n\n我们将分析每种情况下的操作序列的结构。\n\n**情况 1: $k$ 是偶数**\n\n如果 $k$ 是偶数，那么我们可以将操作序列分为两部分：\n\n* 选择 $n$ 个灯打开。\n* 选择 $n$ 个灯保持关闭。\n\n对于每个选择，都有 $2^n$ 种可能的组合（因为每盏灯有 2 种选择：打开或关闭）。因此，总共有 $2^n \\cdot 2^n = (2^n)^2 = 2^{2n}$ 个操作序列。\n\n**情况 2: $k$ 是奇数**\n\n如果 $k$ 是奇数，那么我们可以将操作序列分为两部分：\n\n* 选择 $n-1$ 个灯打开。\n* 选择 $n+1$ 个灯保持关闭。\n\n但是，我们需要确保这些选择是有效的，即选择的灯的数量在 1 到 $2n$ 之间。由于 $k-n$ 是偶数，我们知道 $n+1$ 到 $k$ 之间有 $k-n$ 个灯。因此，我们可以选择 $n-1$ 个灯从 $1$ 到 $k$ 之间，以及 $n+1$ 个灯从 $k+1$ 到 $2n$ 之间。这给我们 $(n-1) \\choose (n-1)$ 种选择 $n-1$ 灯打开的方式，以及 $(n+1) \\choose (n+1)$ 种选择 $n+1$ 灯保持关闭的方式。因此，总共有 $(n-1) \\choose (n-1) \\cdot (n+1) \\choose (n+1)$ 个操作序列。\n\n**计算 $N/M$**\n\n现在我们可以计算 $N/M$ 的值：\n\n* 如果 $k$ 是偶数，则 $N/M = 2^{2n} / (n \\choose n) = 2^{2n} / 1 = 2^{2n}$。\n* 如果 $k$ 是奇数，则 $N/M = (n-1) \\choose (n-1) \\cdot (n+1) \\choose (n+1) / (n \\choose n) = (n-1) \\choose (n-1) \\cdot (n+1) \\choose (n+1) / 1 = (n-1) \\choose (n-1) \\cdot (n+1) \\choose (n+1)$。\n\n因此，$\\frac{N}{M}$ 的最终表达式取决于 $k$ 的奇偶性：\n\n$$\n\\frac{N}{M} = \n\\begin{cases}\n2^{2n} & \\text{if } k \\text{ 是偶数} \\\\\n(n-1) \\choose (n-1) \\cdot (n+1) \\choose (n+1) & \\text{if } k \\text{ 是奇数}\n\\end{cases}\n$$", "answer": "2^{k-n}"}
{"original_question": "Let $ABC$ be a triangle with $AB = AC$. The angle bisectors of $\\angle CAB$ and $\\angle ABC$ meet the sides $BC$ and $CA$ at $D$ and $E$, respectively. Let $K$ be the incentre of triangle $ADC$. Suppose that $\\angle BEK = 45^\\circ$. Find all possible values of $\\angle CAB$.", "question": "在三角形 $ABC$ 中，$AB = AC, \\angle CAB$ 和 $\\angle ABC$ 的内角平分线分别与边 $BC$ 和 $CA$ 相交于点 $D$ 和 $E$。设 $K$ 是三角形 $ADC$ 的内心。若 $\\angle BEK = 45^\\circ$，求 $\\angle CAB$ 所有可能的值。", "response": "让我们一步步思考。由于$K$是三角形$ADC$的内心，我们知道$\\angle AKC = \\angle ADC$和$\\angle AKD = \\angle ACD$。由于$AB = AC$，我们有$\\angle BAC = \\angle BCA$。由于$\\angle CAB$和$\\angle ABC$是内角平分线相交形成的角，我们有$\\angle CAD = \\frac{1}{2}\\angle CAB$和$\\angle BAD = \\frac{1}{2}\\angle ABC$。现在，考虑三角形$ABE$。由于$\\angle BEK = 45^\\circ$，我们有$\\angle ABE = 180^\\circ - \\angle BEK - \\angle EAB = 90^\\circ + \\angle EAB$。由于$\\angle EAB$是$\\angle CAD$的补角，我们有$\\angle ABE = 90^\\circ + \\angle CAD$。由于$\\angle ABE$和$\\angle ADC$是$B$的角，我们有$\\angle ADC + \\angle ABE = 180^\\circ$，所以$\\angle ADC = 90^\\circ - \\angle CAD$。结合这些等式，我们有$\\angle CAD = 90^\\circ - \\angle CAD$，这意味着$\\angle CAD = 45^\\circ$。由于$\\angle CAD = \\frac{1}{2}\\angle CAB$，我们有$\\angle CAB = 2\\angle CAD = \\boxed{90^\\circ}$。因此，$\\angle CAB$ 唯一可能的值为 $90^\\circ$。答案是\\boxed{90^\\circ}。", "answer": "60, 90"}
{"original_question": "Determine all functions $f$ from the set of positive integers to the set of positive integers such that, for all positive integers $a$ and $b$, there exists a non-degenerate triangle with sides of lengths \\[ a, \\ f(b) \\text{ and } \\ f(b + f(a) - 1). \\] (A triangle is non-degenerate if its vertices are not collinear.)", "question": "求所有从正整数集到正整数集上的满足如下条件的函数 $f$：对所有正整数 $a$ 和 $b$，都存在一个以\n$a, f(b)$ 和 $f(b+f(a)-1)$\n为三边长的非退化三角形。\n（称一个三角形为非退化三角形是指它的三个顶点不共线。）", "response": "让我们一步步思考。\n\n设 $a, b$ 为正整数。根据条件，存在一个正整数 $c$ 使得 $(a, f(b), c)$ 形成一个非退化三角形。这意味着：\n\n$$\\text{det} \\begin{pmatrix}\na & f(b) & 1 \\\\\nf(b) & c & 0 \\\\\nf(b+f(a)-1) & 1 & 0\n\\end{pmatrix} > 0$$\n\n展开行列式，我们得到：\n\n$$ac - f(b)^2 > 0$$\n\n这意味着 $ac > f(b)^2$。\n\n现在，考虑函数 $g(a) = ac$。由于 $a, c$ 是正整数，$g(a)$ 也是一个递增函数。因此，对于任何正整数 $a$，$g(a)$ 都有一个最小值。设 $m = \\min_{a} g(a)$。那么，对于所有 $a$，我们有 $ac \\geq m$。\n\n将此不等式代入我们之前得出的不等式中，我们得到：\n\n$$m \\geq f(b)^2$$\n\n因此，$f(b)$ 必须是 $m$ 的平方根。由于 $m$ 是正整数，$f(b)$ 也必须是正整数。\n\n现在，我们证明 $f(b) = \\lfloor \\sqrt{m} \\rfloor$ 满足条件。选择任何正整数 $a$ 和 $b$，我们有：\n\n$$ac = m \\geq (\\lfloor \\sqrt{m} \\rfloor)^2 = f(b)^2$$\n\n这意味着 $c = \\lceil \\frac{m}{f(b)} \\rceil$ 是一个正整数。因此，$(a, f(b), c)$ 形成一个非退化三角形。\n\n此外，对于任何正整数 $a$ 和 $b$，我们可以选择 $c = \\lceil \\frac{m}{f(b)} \\rceil$ 来确保 $(a, f(b), c)$ 形成一个非退化三角形。\n\n因此，满足条件的函数 $f(b) = \\boxed{\\lfloor \\sqrt{m} \\rfloor}$，其中 $m$ 是正整数集合中 $ac$ 的最小值。", "answer": "f(x)=x"}
{"original_question": "Let $\\mathbb{N}$ be the set of positive integers. Determine all functions $g : \\mathbb{N} \\to \\mathbb{N}$ such that $$(g(m) + n)(m + g(n))$$ is a perfect square for all $m, n \\in \\mathbb{N}$. ", "question": "设 $\\mathbb{N}$ 是所有正整数构成的集合。求所有的函数 $g: \\mathbb{N} \\to \\mathbb{N}$，使得对所有 $m, n \\in \\mathbb{N}$，\n\\[ (g(m)+n)(m+g(n)) \\]\n是一个完全平方数。", "response": "让我们一步步思考。设 $f(m, n) = (g(m) + n)(m + g(n))$。我们想要找到所有满足 $f(m, n)$ 是一个完全平方数的函数 $g$。首先，我们注意到 $f(m, n)$ 总是偶数，因为它至少有一个加法项是偶数。因此，$g(m)$ 和 $g(n)$ 必须具有相同的奇偶性。设 $g(m) = 2a_m$，其中 $a_m$ 是整数。那么，$f(m, n) = (2a_m + n)(m + 2a_n) = 4a_m a_n + 2(a_m + a_n) + n$。为了使 $f(m, n)$ 成为完全平方数，我们需要 $4a_m a_n + 2(a_m + a_n) + n$ 成为完全平方数。由于 $4a_m a_n$ 总是偶数，因此 $2(a_m + a_n) + n$ 必须是完全平方数。让我们考虑 $n$ 的可能值： 1. 如果 $n = 0$，则 $2(a_m + a_n)$ 必须是完全平方数。 2. 如果 $n = 2$，则 $2(a_m + a_n) + 2$ 必须是完全平方数。 3. 如果 $n > 2$，则 $2(a_m + a_n) + n$ 必须是完全平方数。从这些条件中，我们可以推导出以下结论： 1. $a_m + a_n$ 必须是偶数，因此 $a_m$ 和 $a_n$ 具有相同的奇偶性。 2. $a_m + a_n$ 必须是某个完全平方数的倍数。根据这些条件，我们可以将 $a_m$ 表示为 $a_m = 2^k b$，其中 $b$ 是奇数，$k$ 是非负整数。那么，$g(m) = 2^{k+1} b$。现在，我们需要证明所有这样的 $g$ 函数都满足给定的条件。对于任何 $m, n \\in \\mathbb{N}$，我们有： \\[ f(m, n) = (2^{k+1} b + n)(m + 2^{k+1} b) = 2^{2(k+1)} b^2 + 2^{k+1} (b + m) n + mn。 \\] 由于 $2^{2(k+1)} b^2$ 总是完全平方数，我们只需要证明 $2^{k+1} (b + m) n + mn$ 也是完全平方数。这对于所有 $m, n \\in \\mathbb{N}$ 都是正确的，因为 $n$ 的任何正整数值都会使 $2^{k+1} (b + m) n + mn$ 成为完全平方数。因此，所有函数 $g: \\mathbb{N} \\to \\mathbb{N}$ 的形式为 $g(m) = 2^{k+1} b$ 满足给定的条件。\n\n\\boxed{g(m) = 2^{k+1} b}", "answer": "c \\geq 0, g(n) = n + c"}
{"original_question": "Given any set $A = \\{a_1, a_2, a_3, a_4\\}$ of four distinct positive integers, we denote the sum $a_1 + a_2 + a_3 + a_4$ by $s_A$. Let $n_A$ denote the number of pairs $(i, j)$ with $1 \\leq i < j \\leq 4$ for which $a_i + a_j$ divides $s_A$. Find all sets $A$ of four distinct positive integers which achieve the largest possible value of $n_A$.", "question": "对任意由 4 个不同正整数组成的集合 $A=\\{a_1, a_2, a_3, a_4\\}$，记 $s_A = a_1 + a_2 + a_3 + a_4$，设 $n_A$ 是满足 $a_i + a_j (1 \\le i < j \\le 4)$ 整除 $s_A$ 的数对 $(i, j)$ 的个数。求所有由 4 个不同正整数组成的集合 $A$，使得 $n_A$ 达到最大值。", "response": "让我们一步步思考。设 $a_1 \\le a_2 \\le a_3 \\le a_4$。我们有 $s_A = a_1 + a_2 + a_3 + a_4$ 和 $n_A = (a_2 - a_1)(a_3 - a_2) + (a_4 - a_3) = a_3(a_2 - a_1) + a_4 - a_2$。我们想要最大化 $n_A$。由于 $a_1, a_2, a_3, a_4$ 是不同的正整数，$n_A$ 的最大值出现在 $a_3$ 和 $a_4$ 尽可能大时，而 $a_1$ 和 $a_2$ 尽可能小时。因此，我们设 $a_1 = 1$ 和 $a_2 = 2$。那么 $s_A = a_1 + a_2 + a_3 + a_4 = 1 + 2 + a_3 + a_4$，我们希望 $n_A$ 最大化。为了最大化 $n_A$，我们希望 $a_3$ 和 $a_4$ 尽可能大。由于 $a_3$ 和 $a_4$ 必须是正整数，因此我们设 $a_3 = 3$ 和 $a_4 = 4$。因此，集合 $A$ 使得 $n_A$ 达到最大值是 $\\boxed{\\{1, 2, 3, 4\\}}$。", "answer": "{x, 5x, 7x, 11x}, {x, 11x, 19x, 29x}"}
{"original_question": "Let $n > 0$ be an integer. We are given a balance and $n$ weights of weight $2^0, 2^1, \\ldots, 2^{n-1}$. We are to place each of the $n$ weights on the balance, one after another, in such a way that the right pan is never heavier than the left pan. At each step we choose one of the weights that has not yet been placed on the balance, and place it on either the left pan or the right pan, until all of the weights have been placed. Determine the number of ways in which this can be done.", "question": "给定整数 $n > 0$。有一个重量为 $n$ 个砝码分别为 $2, 2^2, \\ldots, 2^n$ 的砝码。\\n现通过一步操作逐个将所有砝码都放上天平，使得在操作过程中，右边的重量总不超过左边的重量。每一步操作是从尚未放上天平的砝码中选择一个砝码，将其放到天平的左边或右边，直至所有砝码都放上天平。\\n求整个操作过程的不同方法个数。", "response": "让我们一步步思考。我们将使用动态规划来解决这个问题。设$f(n)$表示使用$n$个砝码的不同操作方法的数量。我们可以定义一个递归关系： $f(n) = f(n-1) + f(n-2)$，其中$f(1) = 2$和$f(2) = 3$。这个递归关系反映了我们可以将$n$个砝码中的一个作为较轻的砝码（$2^{n-1}$）来平衡$n-1$个砝码，或者将$n$个砝码中的一个作为较重的砝码（$2^n$）来平衡$n-2$个砝码。现在，我们可以通过计算$f(n)$的前几项来找到答案： $f(1) = 2$ $f(2) = 3$ $f(3) = f(2) + f(1) = 3 + 2 = 5$ $f(4) = f(3) + f(2) = 5 + 3 = 8$ $f(5) = f(4) + f(3) = 8 + 5 = 13$ ... 我们可以观察到$f(n)$似乎遵循斐波那契数列的模式。事实上，我们可以证明： $f(n) = F_{n+2}$，其中$F_n$是$n$个斐波那契数。因此，使用$n$个砝码的不同操作方法的数量为$\\boxed{F_{n+2}}$。", "answer": "(2n − 1)!!"}
{"original_question": "Find all positive integers $n$ for which there exist non-negative integers $a_1, a_2, \\ldots, a_n$ such that \\[\\frac{1}{2^{a_1}} + \\frac{1}{2^{a_2}} + \\cdot\\cdot\\cdot + \\frac{1}{2^{a_n}} = \\frac{1}{3^{a_1}} + \\frac{2}{3^{a_2}} + \\cdot\\cdot\\cdot + \\frac{n}{3^{a_n}} = 1.\\]", "question": "求所有的正整数 \\( n \\)，使得存在非负整数 \\( a_1, a_2, \\cdots, a_n \\)，满足 \n\\[\n\\frac{1}{2^{a_1}} + \\frac{1}{2^{a_2}} + \\cdots + \\frac{1}{2^{a_n}} + \\frac{1}{3^{a_1}} + \\frac{1}{3^{a_2}} + \\cdots + \\frac{n}{3^{a_n}} = 1.\n\\]", "response": "让我们一步步思考。\n\n我们首先注意到，对于任何正整数 $n$，总和 $\\frac{1}{2^{a_1}} + \\frac{1}{2^{a_2}} + \\cdots + \\frac{1}{2^{a_n}}$ 是一个几何级数，其公比为 $\\frac{1}{2}$。因此，该和可以表示为 $\\frac{1 - \\left(\\frac{1}{2}\\right)^{a_n + 1}}{1 - \\frac{1}{2}} = 2 - \\left(\\frac{1}{2}\\right)^{a_n + 1}$。类似地，总和 $\\frac{1}{3^{a_1}} + \\frac{2}{3^{a_2}} + \\cdots + \\frac{n}{3^{a_n}}$ 是一个几何级数，其公比为 $\\frac{1}{3}$。因此，该和可以表示为 $\\frac{n - \\left(\\frac{1}{3}\\right)^{a_n + 1}}{1 - \\frac{1}{3}} = 3n - \\left(\\frac{1}{3}\\right)^{a_n + 1}$。\n\n将这两个表达式相加，我们得到 $2 - \\left(\\frac{1}{2}\\right)^{a_n + 1} + 3n - \\left(\\frac{1}{3}\\right)^{a_n + 1} = 1$。简化后，我们有 $3n - \\left(\\frac{1}{2}\\right)^{a_n + 1} - \\left(\\frac{1}{3}\\right)^{a_n + 1} = -1$。\n\n为了满足这个方程，我们需要 $\\left(\\frac{1}{2}\\right)^{a_n + 1}$ 和 $\\left(\\frac{1}{3}\\right)^{a_n + 1}$ 尽可能小。这意味着 $a_n + 1$ 必须尽可能大。由于 $a_n$ 是非负整数，因此 $a_n$ 必须为 0。\n\n因此，满足方程的唯一正整数 $n$ 是 $n = \\boxed{2}$。", "answer": "1, 2 mod 4"}
{"original_question": "A configuration of 4027 points in the plane is called Colombian if it consists of 2013 red points and 2014 blue points, and no three of the points of the configuration are collinear. By drawing some lines, the plane is divided into several regions. An arrangement of lines is good for a Colombian configuration if the following two conditions are satisfied:\n\n• no line passes through any point of the configuration;\n• no region contains points of both colours.\n\nFind the least value of $k$ such that for any Colombian configuration of 4027 points, there is a good arrangement of $k$ lines.", "question": "平面上的 4027 个点称为是一个哥伦比亚式点集，如果其中任意三点不共线，且有 2013 个点是红色的，2014 个点是蓝色的，在平面上由出一组直线，可以将平面分成若干区域。如果一组直线对这个哥伦比亚式点集满足下述两个条件，我们就称这是一条好直线组：\n\n- 这些直线不经过该哥伦比亚式点集中的任何一个点；\n- 每个区域中都不会同时出现两种颜色的点。\n\n求 $k$ 的最小值，使得对于任意的哥伦比亚式点集，都存在由 $k$ 条直线构成的好直线组。", "response": "让我们一步步思考。\n\n我们将问题分解为几个步骤：\n\n1. **理解哥伦比亚式点集**：一个哥伦比亚式点集保证了任意三点不共线，这意味着这些点可以形成一个密集的网格，没有三个点位于同一直线上。\n\n2. **分析好直线组**：好直线组必须避免穿过任何点，并确保每个区域中只有一个颜色的点。这意味着直线必须以一种方式划分网格，使得红点和蓝点被分开。\n\n3. **确定最小直线数量**：为了实现这一点，我们需要找到将网格划分为最多两个区域的直线数量。考虑一个简单的场景：将网格划分为两个区域，一个包含红点，另一个包含蓝点。这可以通过绘制一个对角线来实现，该对角线连接网格最左上角和最右下角。\n\n4. **证明最小直线数量**：我们可以证明，任何更少的直线都无法保证将网格划分为所需的区域。如果我们只有两条直线，它们可能不会覆盖所有点，或者可能会在一个区域中包含两种颜色的点。因此，我们需要至少三条直线来保证一个好的直线组。\n\n综上所述，$k$ 的最小值为 $\\boxed{3}$。", "answer": "2013"}
{"original_question": "Let \\(n \\geq 2\\) be an integer. Consider an \\(n \\times n\\) chessboard consisting of \\(n^2\\) unit squares. A configuration of \\(n\\) rooks on this board is \\emph{peaceful} if every row and every column contains exactly one rook. Find the greatest positive integer \\(k\\) such that, for each peaceful configuration of \\(n\\) rooks, there is a \\(k \\times k\\) square which does not contain a rook on any of its \\(k^2\\) unit squares.", "question": "设 \\( n \\geq 2 \\) 是一个整数。考虑由 \\( n^2 \\) 个单位正方形组成的一个 \\( n \\times n \\) 棋盘。 一种放置 \\( n \\) 个棋子的方案被称为是“和平”的, 如果每一行和每一列上都恰好有一个“车”。求最大的正整数\\( k \\)，使得对于任何一种和平放置 \\( n \\) “车”的方案，都存在一个 \\( k \\times k \\) 的正方形，它的 \\( k^2 \\) 个单位正方形里都没有“车”。", "response": "让我们一步步思考。\n\n我们将一个 \\( n \\times n \\) 棋盘上的“车”表示为黑色和白色正方形交替排列。我们将一个 \\( k \\times k \\) 内部没有“车”的正方形称为“安全区域”。\n\n**关键观察：**\n\n* 任何“安全区域”的角必须包含一个白方正方形。这是因为如果角是黑方，那么沿着该角形成一条对角线将导致一个包含 \\( k \\) 个正方形的行或列，其中至少有两个“车”，这与“和平”放置的定义相矛盾。\n\n**证明 \\( k \\leq \\lfloor \\sqrt{n} \\rfloor \\):**\n\n假设存在一个 \\( k \\times k \\) 安全区域。由于角必须是白方，因此至少有 \\( k^2 \\) 个白方正方形。但棋盘上总共有 \\( n^2 \\) 个正方形，因此黑色正方形的数量至少为 \\( n^2 - k^2 \\)。根据“和平”放置的定义，每行和每列必须有一个“车”，因此黑色正方形的数量必须是 \\( n \\)。因此，我们有：\n\n$$n^2 - k^2 \\geq n$$\n\n简化后得到：\n\n$$k^2 \\leq n$$\n\n这意味着 \\( k \\leq \\lfloor \\sqrt{n} \\rfloor \\)。\n\n**证明 \\( k \\geq 1 \\):**\n\n考虑一个 2x2 棋盘。为了形成一个安全区域，我们必须将角和边上的正方形涂成白色，留下一个 1x1 黑色正方形。因此，对于任何 \\( n \\geq 2 \\)，至少存在一个 \\( 1 \\times 1 \\) 安全区域。\n\n**结合以上结果，我们得出：**\n\n对于任何 \\( n \\geq 2 \\)，最大的正整数 \\( k \\) 使得对于任何“和平”放置 \\( n \\) 个“车”的方案，都存在一个 \\( k \\times k \\) 安全区域，为 \\( \\boxed{\\lfloor \\sqrt{n} \\rfloor} \\)。", "answer": "\\lfloor \\sqrt{n - 1} \\rfloor"}
{"original_question": "Determine all triples $(a,b,c)$ of positive integers such that each of the numbers\n\n\\[ ab - c, \\quad bc - a, \\quad ca - b \\]\n\nis a power of 2.\n\n\\[(\\text{A power of 2 is an integer of the form } 2^n, \\text{ where } n \\text{ is a non-negative integer.})\\]", "question": "确定所有三元正整数组\\((a,b,c)\\) , 使得\n\\[\n ab - c, \\quad bc - a, \\quad ca - b\n\\]\n中的每个数都是2的次幂.\n\n(2的次幂是指形如\\(2^n\\)的整数, 其中\\(n\\)是一个非负整数.)", "response": "让我们一步步思考。\n\n设 $ab - c = 2^n$、$bc - a = 2^m$ 和 $ca - b = 2^k$，其中 $n, m, k$ 是非负整数。\n\n我们可以将这些方程重写为：\n\n$$\n\\begin{align*}\nab &= c + 2^n \\\\\nbc &= a + 2^m \\\\\nca &= b + 2^k\n\\end{align*}\n$$\n\n将第一个和第三个方程相加，我们得到：\n\n$$\n(ab) + (ca) = c + 2^n + b + 2^k \\implies 2a = c + b + 2^{n+k}\n$$\n\n将第二个和第三个方程相加，我们得到：\n\n$$\n(bc) + (ca) = a + 2^m + b + 2^k \\implies 2b = a + c + 2^{m+k}\n$$\n\n将这两个方程相减，我们得到：\n\n$$\n2a - 2b = (c + b + 2^{n+k}) - (a + c + 2^{m+k}) \\implies a - b = 2^{m+k} - 2^{n+k} = 2^k(2^{m-n} - 1)\n$$\n\n由于 $a - b$ 是 2 的幂，因此 $2^{m-n} - 1$ 也必须是 2 的幂。这意味着 $m - n$ 必须是 0 或 1。\n\n**情况 1：$m - n = 0$**\n\n在这种情况下，$a - b = 2^k$，这意味着 $a$ 和 $b$ 必须是 2 的幂。由于 $a, b, c$ 是正整数，因此 $a$ 和 $b$ 必须是连续的 2 的幂。设 $a = 2^p$ 和 $b = 2^{p-1}$，其中 $p$ 是非负整数。那么 $c = ab - 2^p = 2^{p-1}(2 - 2^k)$。\n\n**情况 2：$m - n = 1$**\n\n在这种情况下，$a - b = 2^k(2 - 2^{m-n}) = 2^k(2^{m-n-1} - 1)$。由于 $2^{m-n-1} - 1$ 必须是 2 的幂，因此 $m - n - 1$ 必须是 0 或 1。\n\n如果 $m - n - 1 = 0$，则与情况 1 类似，我们可以找到 $a, b, c$ 的值。\n\n如果 $m - n - 1 = 1$，则 $a - b = 2^k(2 - 2)$，这意味着 $a = b$。在这种情况下，我们有 $ab - c = 2^n$ 和 $bc - a = 2^m$，这意味着 $c = 2^n$ 和 $c = 2^m$，这与 $c$ 必须是 $a$ 和 $b$ 乘积的假设相矛盾。因此，这种情况是不可能的。\n\n综上所述，所有满足条件的三元组 $(a, b, c)$ 都是形式为 $(2^p, 2^{p-1}, 2^{p-1}(2 - 2^k))$ 的连续 2 的幂。\n\n因此，答案是：\n\n$$\n\\boxed{(2^p, 2^{p-1}, 2^{p-1}(2 - 2^k)) \\text{ 对于非负整数 } p \\text{ 和 } k}\n$$", "answer": "(2, 2, 2), (2, 2, 3), (2, 6, 11), (3, 5, 7)"}
{"original_question": "Let $\\mathbb{R}$ be the set of real numbers. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ satisfying the equation\n\n\\[ f(x + f(x + y)) + f(xy) = x + f(x + y) + yf(x) \\]\n\nfor all real numbers $x$ and $y$.", "question": "设\\(R\\)是全体实数的集合. 求所有的函数\\(f: \\mathbb{R} \\to \\mathbb{R}\\) , 满足对任意实数\\(x,y\\) , 都有\n\\[\nf(x+f(x+y)) + f(xy) = x + f(x+y) + yf(x).\n\\]", "response": "\\boxed{\n\\begin{align*}\nf(x+f(x+y)) + f(xy) &= x + f(x+y) + yf(x) \\\\\n\\implies f(z) + f\\left(\\frac{xz}{1+z}\\right) &= z + \\frac{xf(z)}{1+z} \\quad \\text{(设 } z = x+f(x+y))\\\\\n\\implies f(z) &= \\frac{z^2 + f(0)}{1+z} \\quad \\text{(解出 } z)\n\\end{align*}\n}\n\n因此，满足给定方程的函数为：\n\\[\nf(x) = \\frac{x^2 + c}{1+x}\n\\]\n其中 \\(c\\) 是常数。", "answer": "f(x)=x, f(x)=2-x"}
{"original_question": "A set of positive integers is called fragrant if it contains at least two elements and each of its elements has a prime factor in common with at least one of the other elements. Let $P(n) = n^2 + n + 1$. What is the least possible value of the positive integer $b$ such that there exists a non-negative integer $a$ for which the set\n\n$$\\{P(a+1), P(a+2), \\ldots, P(a+b)\\}$$\n\nis fragrant?", "question": "一个由正整数构成的集合称为芬香集，若它至少有两个元素，且其中每个元素都有其它元素中的至少一个元素有公共的素因子。设 \\( P(n) = n^2 + n + 1 \\). 试问：正整数 \\( a \\) 为什么值时能够存在一个非负整数 \\( b \\)，使得集合 \\( \\{P(a+1), P(a+2), \\cdots, P(a+b)\\} \\) 是一个芬香集?", "response": "为了找到正整数 \\( a \\) 的值，使得集合 \\( \\{P(a+1), P(a+2), \\ldots, P(a+b)\\} \\) 是一个芬香集，我们需要确保该集合中的每个元素至少有一个公共素因子。\n\n首先，我们来计算 \\( P(n) = n^2 + n + 1 \\) 的值：\n\n- \\( P(a+1) = (a+1)^2 + (a+1) + 1 = a^2 + 2a + 2 \\)\n- \\( P(a+2) = (a+2)^2 + (a+2) + 1 = a^2 + 4a + 5 \\)\n- ...\n- \\( P(a+b) \\) 的形式为 \\( a^2 + (2a + b) + 1 \\)\n\n为了使这个集合成为芬香集，我们需要确保 \\( P(a+i) \\) 和 \\( P(a+j) \\) 之间存在至少一个共同的素因子，当 \\( i \\neq j \\)。\n\n考虑以下几点：\n\n1. **素数和合数**：\\( P(n) \\) 的形式为 \\( n^2 + n + 1 \\)，这通常会产生合数（非素数）。例如，\\( P(a+1) = a^2 + 2a + 2 \\) 通常不是素数。\n\n2. **连续数的公因数**：由于 \\( a+i \\) 和 \\( a+j \\) 是连续的，它们的差 \\( (a+j) - (a+i) = j - i \\) 通常会是较小的数，可能共享一些小素因数。\n\n3. **素数间距**：素数之间有较大的间距，但对于有限的 \\( b \\)，我们仍然可以找到 \\( P(a+i) \\) 和 \\( P(a+j) \\) 之间存在共同素因数的情况。\n\n通过分析，我们发现：\n\n- 当 \\( b \\) 足够大时，集合 \\( \\{P(a+1), P(a+2), \\ldots, P(a+b)\\} \\) 几乎总是会包含一些素数，因为 \\( P(n) \\) 会产生许多合数，但也会产生一些素数（例如，当 \\( a \\) 是素数时）。\n- 因此，对于任何正整数 \\( a \\)，选择一个足够大的 \\( b \\) 就足够了，集合将成为芬香集。\n\n**结论**：\n\n正整数 \\( a \\) 的任何值都可以使得集合 \\( \\{P(a+1), P(a+2), \\ldots, P(a+b)\\} \\) 成为芬香集，只要选择一个足够大的 \\( b \\)。\n\n\\(\\boxed{}\\)", "answer": "6"}
{"original_question": "The equation\n\n$$(x - 1)(x - 2) \\cdots (x - 2016) = (x - 1)(x - 2) \\cdots (x - 2016)$$\n\nis written on the board, with 2016 linear factors on each side. What is the least possible value of $k$ for which it is possible to erase exactly $k$ of these 4032 linear factors so that at least one factor remains on each side and the resulting equation has no real solutions?", "question": "在黑板上写有方程 \\[(x-1)(x-2)\\cdots(x-2016) = (x-1)(x-2)\\cdots(x-2016)\\] 其中等号两边各有2016个一次因式。 试问：正整数 \\( k \\) 最小为何值时，可以在等号两边擦去这4032个一次因式中的恰好 \\( k \\) 个, 使得等号每一边都至少留下一一个一次因式, 且所得得到的方程没有实数根?", "response": "\\boxed{k = 1008}\n\n**解释：**\n\n这个问题涉及到多项式的因式分解和实根的性质。\n\n* **关键观察:** 方程两边都是相同的多项式，因此它们本质上表示相同的函数。即使我们删除一些因式，只要删除的因式数量相同，函数的图形仍然重合。\n\n* **实根的条件:** 为了确保所得方程没有实数根，我们需要删除包含实数根的因式。每个因式 $(x-i)$  对应一个实数根 $x=i$，其中 $i$ 是复数单位。\n\n* **最小化删除因式数量:** 为了最小化删除的因式数量，我们应该优先删除与等式两边共同存在的因式。因为等式两边共有 2016 个因式，我们需要删除 1008 个因式（即 2016 除以 2）。\n\n* **结论:** 删除 1008 个因式后，每边将剩下 1008 个因式，并且由于我们删除了所有包含实数根的因式，所得方程将没有实数根。", "answer": "2016"}
{"original_question": "Let $\\mathbb{R}$ be the set of real numbers. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ such that, for all real numbers $x$ and $y$,\n\\[\nf \\left( f(x) f(y) \\right) + f(x+y) = f(xy).\n\\]", "question": "设 $\text{R}$ 是由全体实数构成的集合。求所有的函数 $f: \\text{R} \\rightarrow \\text{R}$, 使得对于任意实数 $x$ 和 $y$, 都有 \\[ f\\left( f(x) f(y) \\right) + f(x + y) = f(xy). \\]", "response": "\\boxed{\n\\begin{align*}\nf(f(x)f(y)) + f(x+y) &= f(xy) \\\\\nf(f(xy)) + f(x+y) &= f(xy) \\quad \\text{(替换 } z = xy \\\\\nf(z) + f(x+y) &= f(z) \\quad \\text{(由于 } f \\text{ 是函数, 所以 } f(xy) = f(z)) \\\\\nf(x+y) &= 0 \\quad \\text{(对于所有 } x, y \\in \\mathbb{R})\n\\end{align*}\n}\n\n因此，满足给定方程的函数 $f$ 必须是常数函数，其值为 $f(x) = 0$ 对于所有实数 $x$。", "answer": "f(x)=0, f(x)=x-1, f(x)=1-x"}
{"original_question": "A site is any point \\( (x, y) \\) in the plane such that \\( x \\) and \\( y \\) are both positive integers less than or equal to 20. \n\nInitially, each of the 400 sites is unoccupied. Amy and Ben take turns placing stones with Amy going first. On her turn, Amy places a new red stone on an unoccupied site such that the distance between any two sites occupied by red stones is not equal to \\( \\sqrt{5} \\). On his turn, Ben places a new blue stone on any unoccupied site. (A site occupied by a blue stone is allowed to be at any distance from any other occupied site.) They stop as soon as a player cannot place a stone.\n\nFind the greatest \\( K \\) such that Amy can ensure that she places at least \\( K \\) red stones, no matter how Ben places his blue stones.", "question": "我们所谓一个位置是指直角坐标平面上的一个点(x, y)，其中x, y都是不超过20的正整数。最初时，所有400个位置都是空的。甲乙两人轮流摆放石子，由甲先进行。每次轮到甲时，他在一个空的位置上摆一个新的红色石子，要求任意两个红色石子所在位置之间的距离都不等于5。每次轮到乙时，他在任意一个空的位置上摆一个新的蓝色石子。(蓝色石子所在位置与其它石子所在位置之间距离可以是任意值。\n\n如比赛进行下去直至某个人无法再摆放棋子。\n\n试确定最大的整数K，使得无论乙如何摆放蓝色石子，甲总能保证至少摆放K个红色石子。", "response": "为了解决这个问题，我们需要分析甲和乙的策略。甲的目标是避免出现两个红色石子之间的距离为5的情况，而乙的策略是尽量分散蓝色石子的位置。\n\n首先，我们考虑一下甲的策略。甲可以在每一步中选择一个距离最近的空位置（与任何现有石子距离不等于5）来放置红色石子。这样做可以确保他总是能够遵守距离约束。\n\n现在，让我们分析乙的策略。乙的策略是尽量分散蓝色石子，这样可以减少甲选择位置的选项。如果乙能够成功地将蓝色石子放置在“网格”中的关键位置，他可以限制甲的选择，从而减少甲可以放置红色石子的位置。\n\n为了找到最大的整数 \\( K \\)，我们需要确定甲可以在这种情况下放置的最大红色石子数量。\n\n1. **网格划分**：我们可以将直角坐标平面划分为一个 \\( 5 \\times 5 \\) 的网格，这样每个网格单元格（包括边缘和角落）的距离都不是5。这样一来，每个单元格都是一个“安全位置”，甲可以在其中放置红色石子。\n\n2. **位置数量**：在 \\( 5 \\times 5 \\) 网格中，有 \\( 5^2 = 25 \\) 个单元格。\n\n3. **乙的限制**：即使乙尽量分散蓝色石子，他仍然无法完全填满网格，因为网格中总有一些单元格是无法被蓝色石子覆盖的（例如，网格的角落和边缘）。\n\n4. **甲的保证**：由于甲可以在每个单元格中放置一个红色石子，而乙无法完全填满网格，甲可以保证至少放置 \\( 25 \\) 个红色石子（即网格中的所有单元格）。\n\n因此，最大的整数 \\( K \\) 是 \\( \\boxed{25} \\)。", "answer": "100"}
{"original_question": "Let \\( I \\) be the incentre of acute triangle \\( ABC \\) with \\( AB \\neq AC \\). The incircle \\( \\omega \\) of \\( ABC \\) is tangent to sides \\( BC, CA, \\) and \\( AB \\) at \\( D, E, \\) and \\( F \\), respectively. The line through \\( D \\) perpendicular to \\( EF \\) meets \\( \\omega \\) again at \\( R \\). Line \\( AR \\) meets \\( \\omega \\) again at \\( P \\). The circumcircles of triangles \\( PCE \\) and \\( PBF \\) meet again at \\( Q \\).\n\nProve that lines \\( DI \\) and \\( PQ \\) meet on the line through \\( A \\) perpendicular to \\( AI \\).", "question": "在锐角三角形 \\( ABC \\) 中， \\( I \\) 是内心， \\( AB \\neq AC \\) 。三角形 \\( ABC \\) 的内切圆 \\( \\omega \\) 与边 \\( BC, CA \\) 和 \\( AB \\) 分别相切于点 \\( D, E \\) 和 \\( F \\) 。过点 \\( D \\) 且垂直于 \\( EF \\) 的直线与 \\( \\omega \\) 的另一直交点为 \\( R \\) 。直线 \\( AR \\) 与 \\( \\omega \\) 的另一交点为 \\( P \\) 。三角形 \\( PCE \\) 和三角形 \\( PBF \\) 的外接圆交于另一点 \\( Q \\) 。\\证明：直线 \\( DI \\) 和 \\( PQ \\) 的交点在过点 \\( A \\) 且垂直于 \\( AI \\) 的直线上。", "response": "我们将逐步证明直线$DI$和$PQ$的交点位于过点$A$且垂直于$AI$的直线上。\n\n**步骤 1：**\n\n首先，我们注意到$I$是内心，因此$ID$是三角形的内切圆的半径，垂直于$BC$、$CA$和$AB$。\n\n**步骤 2：**\n\n由于$R$是$\\omega$上与$D$相交的直线$EF$的垂直于$EF$的交点，所以$AR$垂直于$\\omega$。因此，$AR$是$\\omega$的切线。\n\n**步骤 3：**\n\n$P$是$\\omega$上与$AR$相交的点，因此$AP$是$\\omega$的切线。\n\n**步骤 4：**\n\n三角形$PCE$和$PBF$的外接圆相交于$Q$，这意味着$Q$是这些外接圆的共点。\n\n**步骤 5：**\n\n现在，考虑直线$DI$和$PQ$。由于$DI$垂直于$\\omega$，而$PQ$是$\\omega$的切线，所以$DI$和$PQ$在$\\omega$上相交于一个点$X$。\n\n**步骤 6：**\n\n我们需要证明$X$位于过点$A$且垂直于$AI$的直线上。\n\n**步骤 7：**\n\n由于$I$是内心，$AI$是三角形的角平分线，因此$AI$垂直于$BC$、$CA$和$AB$。\n\n**步骤 8：**\n\n在$\\omega$上，$DI$和$PQ$的交点$X$位于$AI$的同一侧，且$AI$垂直于$BC$、$CA$和$AB$，因此$AX$和$IX$形成一个直角。\n\n**结论：**\n\n因此，直线$DI$和$PQ$的交点$X$位于过点$A$且垂直于$AI$的直线上。\n\n$$\\boxed{}$$", "answer": "f(x)=0, f(x)=2x+k"}
{"original_question": "Find all pairs \\((k,n)\\) of positive integers such that\n\\[\nk! = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\n\\]", "question": "求所有正整数对 \\((k, n)\\) ，满足\n\n\\[ k! = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}). \\]", "response": "让我们一步步思考。首先，我们注意到 $n$ 必须是正整数，因为所有因子 $(2^n - 1), (2^n - 2), \\ldots, (2^n - 2^{n-1})$ 都是正数。我们还注意到，对于任何正整数 $n$，$2^n - 1$ 总是奇数，而其他因子是偶数。因此，$k!$ 必须是奇数，这意味着 $k$ 也必须是奇数。设 $k = 2m + 1$，其中 $m$ 是非负整数。然后，我们可以将方程重写为： \\[(2m + 1)! = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\\] 现在，我们可以将左侧展开为： \\[(2m + 1)! = (2m)! \\cdot (2m + 1).\\] 因此，我们有： \\[(2m)! \\cdot (2m + 1) = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\\] 由于 $(2m + 1)$ 是 $(2m)!$ 的因子，我们可以将等式两边除以 $(2m + 1)$ 得到： \\[(2m)! = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}) / (2m + 1).\\] 现在，我们注意到右边是一个乘积，其中每个因子都是 $2^n$ 的幂减去一个特定的常数。由于 $(2m + 1)$ 不能整除任何 $2^n$ 的幂（因为它是奇数），因此左边和右边必须相等。这意味着： \\[(2m + 1) \\mid (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\\] 我们可以看到，如果 $m = 0$，则 $(2m + 1) = 1$，它确实除以 $(2^n - 1)$ 对于任何正整数 $n$。因此，所有正整数对 $(k, n)$ 满足方程的形式为 $(2m + 1, n)$，其中 $m$ 是非负整数。\n\n\\boxed{(k, n) = (2m + 1, n), \\text{ 其中 } m \\geq 0}$.", "answer": "(1, 1), (2, 3)"}
{"original_question": "There is an integer $n > 1$. There are $n^2$ stations on a slope of a mountain, all at different altitudes. Each of two cable car companies, $A$ and $B$, operates $k$ cable cars; each cable car provides a transfer from one of the stations to a higher one (with no intermediate stops). The $k$ cable cars of $A$ have $k$ different starting points and $k$ different finishing points, and a cable car which starts higher also finishes higher. The same conditions hold for $B$. We say that two stations are linked by a company if one can start from the lower station and reach the higher one by using one or more cars of that company (no other movements between stations are allowed).\n\nDetermine the smallest positive integer $k$ for which one can guarantee that there are two stations that are linked by both companies.", "question": "给定整数组 $n > 1$。在一座山上有 $n^2$ 个高度互不相同的缆车车站。有两家缆车公司 $A$ 和 $B$，各运营 $k$ 条缆车，每辆从一个车站运行到某个更高的车站（中间不留停在他站）。$A$ 公司的 $k$ 缆缆车的上个起点互不相同，k 个终点也互不相同，并且起点较高的缆车，  终点也较高的缆车。$B$ 公司的缆缆车也满足相同的条件。我们称两个车站被某个公司连接， 若果可以从其中较低的车站通过该公司的缆车驶到较高的车站（中间不允许在车站之间有其他移动）。 \\n\n确定最小的正整数 $k$，使得一定有两个车站被两个公司同时连接。", "response": "让我们一步步思考。\n\n我们将使用矛盾论证来解决这个问题。假设没有两个车站被两个公司同时连接。这意味着每个车站要么仅由公司 A 连接，要么仅由公司 B 连接。\n\n由于公司 A 有 $k$ 条缆车，每条缆车从一个车站出发并到达一个更高的车站，因此公司 A 连接的车站形成一个有向图，其中每个节点都有出度和入度各为 1。类似地，公司 B 连接的车站也形成一个类似的图。\n\n现在，考虑两个图的并集。由于每个车站要么仅由公司 A 连接，要么仅由公司 B 连接，因此并集图中的每个节点的出度和入度都为 1。这意味着并集图是一个二分图，其中节点被分为两组，每条边连接一组中的两个节点。\n\n然而，这与 $n^2$ 个车站的给定事实相矛盾。在二分图中，最大边数由 $n$（图的一组中的节点数）决定。因此，$n^2$ 个车站不能被分为两个组，形成二分图。\n\n因此，我们的假设是错误的，必须存在至少两个车站被两个公司同时连接。最小的正整数 $k$ 使得这一点发生是 $\\boxed{n}$。", "answer": "n^2-n+1"}
{"original_question": "Let \\( \\mathbb{R}^+ \\) denote the set of positive real numbers. Find all functions \\( f : \\mathbb{R}^+ \\to \\mathbb{R}^+ \\) such that for each \\( x \\in \\mathbb{R}^+ \\), there is exactly one \\( y \\in \\mathbb{R}^+ \\) satisfying\n\n\\[\n x f(y) + y f(x) \\leq 2.\n\\]", "question": "令 \\( \\mathbb{R}^+ \\) 代表所有正实数所形成的集。找出所有函数 \\( f : \\mathbb{R}^+ \\to \\mathbb{R}^+ \\)，使得对于任意 \\( x \\in \\mathbb{R}^+ \\)，都有有一个 \\( y \\in \\mathbb{R}^+ \\) 符合\n\n\\[ x f(y) + y f(x) < 2. \\]", "response": "\\boxed{解：}\n\n我们将函数 \\( f \\) 定义在 \\( \\mathbb{R}^+ \\) 上的条件表示为：\n\n$$\\forall x \\in \\mathbb{R}^+, \\exists y \\in \\mathbb{R}^+ \\text{ 使得 } xf(y) + yf(x) < 2.$$\n\n我们将分析这个条件并找到满足条件的函数形式。\n\n1. **重排不等式**：从给定条件中，我们可以重新排列得到：\n\n$$xf(y) + yf(x) - 2 < 0.$$\n\n2. **定义新函数**：设 \\( g(x, y) = xf(y) + yf(x) - 2 \\)。那么，我们希望 \\( g(x, y) < 0 \\) 对于所有 \\( x, y \\in \\mathbb{R}^+ \\)。\n\n3. **对称性**：注意 \\( g(x, y) \\) 对于 \\( x \\) 和 \\( y \\) 具有对称性，即 \\( g(x, y) = g(y, x) \\)。这意味着 \\( f \\) 必须是对称的。\n\n4. **单调性**：为了使 \\( g(x, y) < 0 \\) 成立，我们可以考虑 \\( x \\) 和 \\( y \\) 的增长率。如果 \\( x \\) 或 \\( y \\) 增加，\\( g(x, y) \\) 应该减少。这暗示了 \\( f \\) 是一个单调递减函数。\n\n5. **具体形式**：基于上述分析，我们可以推断出 \\( f \\) 的形式为：\n\n$$f(x) = \\frac{c}{x}, \\text{ 其中 } c \\in \\mathbb{R}^+.$$\n\n这个函数满足所有条件：\n\n- 对于任何 \\( x \\)，我们可以选择 \\( y = \\frac{1}{x} \\)，则 \\( xf(y) + yf(x) = x \\cdot \\frac{c}{y} + y \\cdot \\frac{c}{x} = c(x + y) < 2 \\)。\n- \\( f \\) 是单调递减的，因为 \\( \\frac{c}{x} \\) 随着 \\( x \\) 的增加而减小。\n- \\( f \\) 是对称的，因为 \\( \\frac{c}{x} = \\frac{c}{y} \\) 对于任何 \\( x, y \\in \\mathbb{R}^+ \\)。\n\n因此，满足给定条件的所有函数 \\( f : \\mathbb{R}^+ \\to \\mathbb{R}^+ \\) 的形式为 \\( f(x) = \\frac{c}{x} \\)，其中 \\( c \\) 是正实数。", "answer": "\\frac{1}{x}"}
{"original_question": "Find all triples \\((a,b,p)\\) of positive integers with \\( p \\) prime and\n\\[\na^p = b! + p.\n\\]", "question": "找出所有三元正整数组 \\((a, b, p)\\)，满足 \\( p \\) 是素数且\n\n\\[ a^p = b! + p. \\]", "response": "让我们一步步思考。\n\n我们将分析给定的方程并使用一些数论技巧来找到所有可能的解。\n\n首先，由于 $p$ 是素数，因此 $p$ 必须大于 1。我们还知道 $b!$ 总是大于 $p$ 对于任何正整数 $b$，因为 $b!$ 包含所有小于或等于 $b$ 的正整数的乘积。因此，$b! + p$ 总是大于 $p$。这意味着 $a^p$ 必须大于 $p$，因此 $a$ 必须大于 1。\n\n现在，让我们考虑 $a$ 和 $b$ 的可能值。由于 $a$ 和 $b$ 是正整数，我们可以从 $a = 2$ 和 $b = 1$ 开始。将这些值代入方程，我们得到：\n\n$$2^p = 1! + p$$\n\n简化后，我们有：\n\n$$2^p = 1 + p$$\n\n对于 $p = 2$，方程成立：\n\n$$2^2 = 1 + 2 \\Rightarrow 4 = 3$$\n\n因此，一个解是 $(a, b, p) = (2, 1, 2)$。\n\n现在，让我们尝试不同的 $p$ 值。对于 $p > 2$，$2^p$ 会非常大，而 $1! + p$ 仍然相对较小。因此，对于 $p > 2$，方程 $a^p = b! + p$ 没有其他解。\n\n结论是，唯一满足给定条件的三元组是：\n\n$$\\boxed{(2, 1, 2)}$$", "answer": "(2, 2, 2), (3, 4, 3)"}
{"original_question": "Let \\( n \\) be a positive integer. A \\emph{Nordic square} is an \\( n \\times n \\) board containing all the integers from \\( 1 \\) to \\( n^2 \\) so that each cell contains exactly one number. Two different cells are considered adjacent if they share a common side. Every cell that is adjacent only to cells containing larger numbers is called a \\emph{valley}. An \\emph{uphill path} is a sequence of one or more cells such that:\n\\begin{itemize} \n    \\item \\(\\) the first cell in the sequence is a valley,\n    \\item \\(\\) each subsequent cell in the sequence is adjacent to the previous cell, and\n    \\item \\(\\) the numbers written in the cells in the sequence are in increasing order.\n\\end{itemize}\nFind, as a function of \\( n \\), the smallest possible total number of uphill paths in a Nordic square.", "question": "令 \\( n \\) 为一正整数。一个「北欧方阵」是一个包含 \\( 1 \\) 至 \\( n^2 \\) 所有整数的 \\( n \\times n \\) 方格表，使得每个方格内恰有一个数字。两个相异方格是相邻的如果他们有公共享一边。一个方格被称为「山谷」，若其内部数字比所有相邻方格内的数字都小。一条「上坡路径」是一个包含一或多个方格的序列，满足：\n\n(i) 序列的第一个方格是山谷，\n\n(ii) 序列中随后的每个方格都和其前一个方格相邻，且\n\n(iii) 序列中方格内所写的数字递增。\n\n试求一个北欧方阵中上坡路径数量的最小可能值，以 \\( n \\) 的函数表示之。", "response": "为了解决这个问题，我们需要理解北欧方阵的结构和上坡路径的定义。我们将逐步分析和构建解决方案。\n\n首先，让我们回顾一下北欧方阵的一些关键属性：\n1. **数字分布**：方阵中每个数字从1到\\(n^2\\)恰好出现一次。\n2. **相邻条件**：相邻的方格共享一条边。\n3. **山谷和上坡路径**：山谷是指其内部数字比所有相邻方格内的数字都小的方格，上坡路径是遵循山谷并保持数字递增的路径。\n\n为了最小化上坡路径的数量，我们需要考虑方阵的结构和山谷的分布。由于每个数字从1到\\(n^2\\)恰好出现一次，因此山谷的数量将直接影响上坡路径的数量。\n\n让我们分析一下山谷的分布：\n- 在一个\\(n \\times n\\)的方阵中，每个数字1到\\(n^2\\)都会出现一次，因此至少有一个山谷。\n- 随着\\(n\\)的增加，山谷的数量也会增加。\n\n为了最小化上坡路径的数量，我们希望山谷的分布尽可能均匀。这意味着我们需要确保每个数字在方阵中都有一个相对稳定的位置，使得从一个山谷到下一个山谷的路径尽可能短。\n\n一种有效的方法是构建一个“对角线山谷”结构。具体来说，我们可以这样设计方阵：\n1. 沿主对角线（从左上角到右下角）放置数字1到\\(n^2\\)，形成一个对角线山谷。\n2. 确保其他所有数字在不违反相邻条件的情况下填充。\n\n这种结构的优点是：\n- 每个数字都有一个明确的位置，避免了不必要的冲突。\n- 对角线山谷确保了路径的相对短小。\n\n因此，对于一个\\(n \\times n\\)的北欧方阵，上坡路径的最小可能数量可以通过上述对角线山谷结构实现。具体数量为：\n\n\\[\n\\boxed{n}\n\\]\n\n这个结果表明，对于任何正整数\\(n\\)，通过对角线山谷结构，北欧方阵中上坡路径的数量至少为\\(n\\)。", "answer": "2n^2-2n+1"}
{"original_question": "Determine all pairs $(a, b)$ of positive integers for which there exist positive integers $g$ and $N$ such that\n\n$\\gcd(a^n + b, b^n + a) = g$\n\nholds for all integers $n \\ge N$. (Note that $\\gcd(x, y)$ denotes the greatest common divisor of integers $x$ and $y$.)", "question": "求所有正整数对 $(a, b)$ 满足: 存在正整数 $g$ 和 $N$ 使得\n\n$\\gcd(a^n + b, b^n + a) = g$\n\n对所有整数 $n > N$ 均成立. (注: $\\gcd(x, y)$ 表示整数 $x$ 与 $y$ 的最大公约数.)", "response": "让我们一步步思考。\n\n我们首先考虑一些基本情况：\n\n1. **$a = b$:** 如果 $a = b$，则 $a^n + b = 2a$，$b^n + a = 2b$。对于所有 $n > 1$，$\\gcd(2a, 2b) = 2\\gcd(a, b)$，因此 $g = 2\\gcd(a, b)$。\n\n2. **$a > b$:** 设 $d = \\gcd(a, b)$。那么，对于所有 $n > 1$，我们有 $a^n \\equiv (-1)^n b \\pmod{d}$ 和 $b^n \\equiv (-1)^n a \\pmod{d}$。因此，$a^n + b \\equiv 0 \\pmod{d}$ 和 $b^n + a \\equiv 0 \\pmod{d}$，这意味着 $\\gcd(a^n + b, b^n + a) = d$。\n\n3. **$a < b$:** 类似地，我们可以证明与情况 2 相同的结果。\n\n因此，对于所有正整数对 $(a, b)$，满足条件的 $g$ 必须是 $\\gcd(a, b)$。\n\n现在，我们需要找到 $N$。我们想要找到最小的 $N$，使得对于所有 $n > N$，$\\gcd(a^n + b, b^n + a) = \\gcd(a, b)$。\n\n考虑 $n = 2$。如果 $\\gcd(a, b) = 1$，则 $\\gcd(a^2 + b, b^2 + a) = 1$（因为 $a$ 和 $b$ 互质）。对于 $n > 2$，$\\gcd(a^n + b, b^n + a)$ 可能大于 1，因为 $a^n + b$ 和 $b^n + a$ 可能共享一些因子。\n\n因此，我们可以选择 $N = 2$，因为对于所有 $n > 2$，$\\gcd(a^n + b, b^n + a) = \\gcd(a, b)$。\n\n综上所述，所有正整数对 $(a, b)$ 满足条件的 $g$ 是 $\\gcd(a, b)$，$N = 2$。\n\n因此，答案是：\n\n\\boxed{g = \\gcd(a, b), \\quad N = 2}", "answer": "(1, 1)"}
