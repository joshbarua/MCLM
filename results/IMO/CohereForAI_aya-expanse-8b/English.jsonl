{"original_question": "Let $P$ be a regular 2006-gon. A diagonal of $P$ is called \\emph{good} if its endpoints divide the boundary of $P$ into two parts, each composed of an odd number of sides of $P$. The sides of $P$ are also called \\emph{good}. Suppose $P$ has been dissected into triangles by 2003 diagonals, no two of which have a common point in the interior of $P$. Find the maximum number of isosceles triangles having two good sides that could appear in such a configuration. ", "question": "Let $P$ be a regular 2006-gon. A diagonal of $P$ is called \\emph{good} if its endpoints divide the boundary of $P$ into two parts, each composed of an odd number of sides of $P$. The sides of $P$ are also called \\emph{good}. Suppose $P$ has been dissected into triangles by 2003 diagonals, no two of which have a common point in the interior of $P$. Find the maximum number of isosceles triangles having two good sides that could appear in such a configuration. ", "response": "Let's think step by step.\n\nConsider a regular 2006-gon $P$ with vertices $V_1, V_2, \\ldots, V_{2006}$. We are given that $P$ is dissected into triangles by 2003 diagonals, no two of which intersect in the interior of $P$.\n\nA diagonal $V_iV_j$ is good if it divides the boundary of $P$ into two parts, each with an odd number of sides. Since $P$ has 2006 sides, a good diagonal must connect two vertices that are an odd distance apart.\n\nLet's count the number of good diagonals. There are $\\binom{2006}{2} = 2006 \\cdot 1003$ total diagonals. Among these, there are 1003 diagonals connecting vertices that are 1 step apart, 1002 diagonals connecting vertices that are 2 steps apart, and so on, up to 1 diagonal connecting vertices that are 1003 steps apart. The sum of these is:\n\n$$\n\\begin{align*}\n\\sum_{k=1}^{1003} k \\cdot \\binom{2006-k}{2} &= \\sum_{k=1}^{1003} k \\cdot \\frac{(2006-k)(2005-k)}{2} \\\\\n&= \\sum_{k=1}^{1003} k(2005-k) \\\\\n&= \\sum_{k=1}^{1003} 2005k - \\sum_{k=1}^{1003} k^2 \\\\\n&= 2005 \\cdot 1003^2 - \\frac{1003 \\cdot 1004 \\cdot 2005}{6} \\\\\n&= 2003 \\cdot 1003^2.\n\\end{align*}\n$$\n\nSo, there are $2003 \\cdot 1003^2$ good diagonals.\n\nNow, let's count the number of isosceles triangles with two good sides. Each isosceles triangle has two equal sides, which must be good diagonals. There are $\\binom{2003 \\cdot 1003^2}{2}$ ways to choose 2 good diagonals to form an isosceles triangle.\n\nHowever, we overcounted. A triangle with two good sides can be formed in multiple ways by choosing the same pair of diagonals. For each isosceles triangle, we can choose the two good sides in $\\binom{2}{2} = 1$ way, but we have counted each triangle multiple times based on the order of the diagonals. So, we divide by 2 to correct for this overcounting.\n\nTherefore, the maximum number of isosceles triangles with two good sides is:\n\n$$\n\\frac{\\binom{2003 \\cdot 1003^2}{2}}{2} = \\boxed{501 \\cdot 1003^2}.\n$$", "answer": "1003"}
{"original_question": "Determine the least real number $M$ such that the inequality\\[ \\left| ab(a^2 - b^2) + bc(b^2 - c^2) + ca(c^2 - a^2) \\right| \\le M(a^2 + b^2 + c^2)^2 \\]holds for all real numbers $a$, $b$ and $c$. ", "question": "Determine the least real number $M$ such that the inequality\\[ \\left| ab(a^2 - b^2) + bc(b^2 - c^2) + ca(c^2 - a^2) \\right| \\le M(a^2 + b^2 + c^2)^2 \\]holds for all real numbers $a$, $b$ and $c$. ", "response": "Let's think step by step.\n\nWe can rewrite the given inequality as:\n\n$$\\left| a(ab - bc)(a+b) + b(bc - ca)(b+c) + c(ca - ab)(c+a) \\right| \\le M(a^2 + b^2 + c^2)^2$$\n\nNow, let's consider the case when $a = b = c = 1$. Plugging these values in, we get:\n\n$$\\left| 0 \\right| \\le M(3)^2$$\n\nThis implies that $M \\ge 0$.\n\nNext, let's consider the case when $a = 1$, $b = 0$, and $c = -1$. This gives:\n\n$$\\left| -1 \\right| \\le M(1 + 0 + 1)^2$$\n\nSo, $M \\ge \\frac{1}{4}$.\n\nTo show that $M = \\frac{1}{4}$ works, we can choose $a = b = c = \\frac{1}{\\sqrt{2}}$. Then, the left-hand side becomes:\n\n$$\\left| \\frac{1}{4} \\right| = \\frac{1}{4}$$\n\nand the right-hand side is:\n\n$$\\frac{1}{4}(2)^2 = \\frac{1}{2}$$\n\nThus, the inequality holds for $M = \\frac{1}{4}$.\n\nTherefore, the least value of $M$ is $\\boxed{\\frac{1}{4}}$.", "answer": "\\frac{9}{32}\\sqrt{2}"}
{"original_question": "Determine all pairs $(x,y)$ of integers such that \\[ 1 + 2^x + 2^{x+1} = y^2. \\]", "question": "Determine all pairs $(x,y)$ of integers such that \\[ 1 + 2^x + 2^{x+1} = y^2. \\]", "response": "Let's think step by step.\nWe can rewrite the equation as $2^x(1+2) = y^2$, or $2^x(3) = y^2$.\nSince $y^2$ is always even, $2^x$ must also be even, so $x$ must be at least 1.\nLet $y = 2k$ for some integer $k$.\nThen the equation becomes $2^x(3) = (2k)^2 = 4k^2$, so $2^x = 2k^2$.\nThe only way for $2^x$ to be a factor of $2k^2$ is if $x = \\log_2(2k^2) = 2\\log_2(k)$.\nSince $x$ must be an integer, $\\log_2(k)$ must also be an integer, say $n$.\nThen $k = 2^n$, and $x = 2n$.\nSubstituting back into the original equation, we get $1 + 2^{2n} + 2^{2n+1} = (2^n)^2 = 2^{2n}$,\nwhich simplifies to $2^{2n+1} = 2^{2n}$, so $n = 0$.\nTherefore, the only solution is $x = 2n = \\boxed{0}$ and $y = 2^n = \\boxed{1}$.\nThe answer is (0,1).", "answer": "(0, 2), (0, -2), (4, 23), (4, -23)"}
{"original_question": "\\textbf{Problem 6.} \\text{ Let } n \\text{ be a positive integer. Consider}\n\n S = \\{ (x, y, z) : x, y, z \\in \\{0, 1, \\ldots, n\\}, x + y + z > 0 \\}\n\n\\text{as a set of } (n + 1)^3 - 1 \\text{ points in three-dimensional space. Determine the smallest possible number of planes, the union of which contains } S \\text{ but does not include } (0, 0, 0). \n\n\\textit{Time allowed: 4 hours 30 minutes}\n\\textit{Each problem is worth 7 points.}", "question": "\\textbf{Problem 6.} \\text{ Let } n \\text{ be a positive integer. Consider}\n\n S = \\{ (x, y, z) : x, y, z \\in \\{0, 1, \\ldots, n\\}, x + y + z > 0 \\}\n\n\\text{as a set of } (n + 1)^3 - 1 \\text{ points in three-dimensional space. Determine the smallest possible number of planes, the union of which contains } S \\text{ but does not include } (0, 0, 0). \n\n\\textit{Time allowed: 4 hours 30 minutes}\n\\textit{Each problem is worth 7 points.}", "response": "\\boxed{2n + 1}\n\n**Solution:**\n\nThe set $S$ is a subset of a three-dimensional space with points $(x, y, z)$ where $x, y, z$ are non-negative integers less than or equal to $n$ and their sum is greater than zero. We need to find the minimum number of planes required to cover all points in $S$ while excluding the origin $(0, 0, 0)$.\n\nFirst, note that each plane can be defined by a normal vector $(a, b, c)$ and a point $(x_0, y_0, z_0)$, i.e., $ax + by + cz = d$. To cover all points in $S$, we need to ensure that for any $(x, y, z) \\in S$, there exists a plane that includes this point.\n\nLet's consider the planes defined by the normal vectors $(1, 0, 0)$, $(0, 1, 0)$, and $(0, 0, 1)$. These planes cover all possible values of $x$, $y$, and $z$ respectively, ensuring that every point in $S$ is included in at least one of these planes.\n\nNow, for each value of $x$ from $1$ to $n$, we can create a plane by choosing a normal vector perpendicular to the plane defined by $(1, 0, 0)$ and passing through a point on that plane. This ensures that all points with $x = k$ for $1 \\leq k \\leq n$ are included in these additional planes. This gives us $n$ more planes.\n\nSimilarly, we can create $n$ planes for $y$ and $z$ coordinates, resulting in a total of $2n$ planes. Finally, we need one more plane to cover the remaining points with $x + y + z = 0$ (excluding the origin).\n\nTherefore, the minimum number of planes required is $3 + 2n = 2n + 1$.", "answer": "3n"}
{"original_question": "Find all functions $f : (0,\\infty) \\to (0,\\infty)$ (so, $f$ is a function from the positive real numbers to the positive real numbers) such that \\[ \\frac{(f(w))^2 + (f(x))^2}{f(y)^2 + f(z)^2} = \\frac{w^2 + x^2}{y^2 + z^2} \\] for all positive real numbers $w, x, y, z$, satisfying $wx = yz$.", "question": "Find all functions $f : (0,\\infty) \\to (0,\\infty)$ (so, $f$ is a function from the positive real numbers to the positive real numbers) such that \\[ \\frac{(f(w))^2 + (f(x))^2}{f(y)^2 + f(z)^2} = \\frac{w^2 + x^2}{y^2 + z^2} \\] for all positive real numbers $w, x, y, z$, satisfying $wx = yz$.", "response": "\\boxed{\n\\begin{align*}\nf(x) &= \\frac{x}{\\sqrt{2}} \\quad \\text{for all } x > 0.\n\\end{align*}\n}\n\n**Proof:**\n\nLet's start by setting $w = x = 1$ and $y = z = t$ in the given equation:\n\n$$\\frac{(f(1))^2 + (f(t))^2}{f(t)^2 + f(t)^2} = \\frac{1 + t^2}{2t^2}$$\n\nSimplifying, we get:\n\n$$\\frac{f(1)^2 + f(t)^2}{2f(t)^2} = \\frac{1 + t^2}{2t^2}$$\n\nMultiplying both sides by $2f(t)^2$, we have:\n\n$$f(1)^2 + f(t)^2 = \\frac{1 + t^2}{t^2} \\cdot 2f(t)^2$$\n\nSimplifying further, we get:\n\n$$f(1)^2 = \\frac{1}{t^2} - \\frac{2f(t)^2}{t^2}$$\n\nNow, let's choose a specific value for $t$. Setting $t = 1$, we get:\n\n$$f(1)^2 = 1 - 2f(1)^2$$\n\nSolving for $f(1)$, we find:\n\n$$f(1) = \\frac{1}{\\sqrt{2}}$$\n\nNow, we can use this value to find $f(x)$ for any $x > 0$. Substituting $f(1) = \\frac{1}{\\sqrt{2}}$ and $x$ into the original equation, we get:\n\n$$\\frac{(\\frac{x}{\\sqrt{2}})^2 + (f(x))^2}{f(x)^2 + (\\frac{x}{\\sqrt{2}})^2} = \\frac{x^2 + x^2}{2x^2}$$\n\nSimplifying, we get:\n\n$$\\frac{x^2/2 + f(x)^2}{f(x)^2 + x^2/2} = 1$$\n\nMultiplying both sides by $2(f(x)^2 + x^2/2)$, we have:\n\n$$x^2 + f(x)^2 = 2f(x)^2 + x^2$$\n\nSimplifying further, we get:\n\n$$f(x)^2 = \\frac{x^2}{2}$$\n\nTaking the square root of both sides, we find:\n\n$$f(x) = \\frac{x}{\\sqrt{2}}$$\n\nThus, the unique function that satisfies the given equation is $f(x) = \\frac{x}{\\sqrt{2}}$ for all $x > 0$.", "answer": "f(x)=x, f(x)=\\frac{1}{x}"}
{"original_question": "Let $n$ and $k$ be positive integers with $k \\geq n$ and $k - n$ an even number. Let $2n$ lamps labelled $1, 2, \\ldots, 2n$ be given, each of which can be either on or off. Initially all the lamps are off. We consider sequences of steps: at each step one of the lamps is switched (from on to off or from off to on). Let $N$ be the number of such sequences consisting of $k$ steps and resulting in the state where lamps $1$ through $n$ are all on, and lamps $n + 1$ through $2n$ are all off. Let $M$ be the number of such sequences consisting of $k$ steps, resulting in the state where lamps $1$ through $n$ are all on, and lamps $n + 1$ through $2n$ are all off, but where none of the lamps $n + 1$ through $2n$ is ever switched on. Determine the ratio $N/M$.", "question": "Let $n$ and $k$ be positive integers with $k \\geq n$ and $k - n$ an even number. Let $2n$ lamps labelled $1, 2, \\ldots, 2n$ be given, each of which can be either on or off. Initially all the lamps are off. We consider sequences of steps: at each step one of the lamps is switched (from on to off or from off to on). Let $N$ be the number of such sequences consisting of $k$ steps and resulting in the state where lamps $1$ through $n$ are all on, and lamps $n + 1$ through $2n$ are all off. Let $M$ be the number of such sequences consisting of $k$ steps, resulting in the state where lamps $1$ through $n$ are all on, and lamps $n + 1$ through $2n$ are all off, but where none of the lamps $n + 1$ through $2n$ is ever switched on. Determine the ratio $N/M$.", "response": "Let's think step by step.\n\nWe can solve this problem using combinatorics.\n\nFirst, let's consider the number of ways to turn on lamps $1$ through $n$ and keep lamps $n+1$ through $2n$ off. This can be done in $\\binom{k}{n}$ ways, as we choose $n$ steps out of $k$ to turn on the first $n$ lamps.\n\nNow, let's consider the number of ways to keep lamps $n+1$ through $2n$ off without ever switching them on. This is equivalent to choosing $n$ steps out of $k-n$ to turn on the first $n$ lamps, and then permuting the remaining $n$ steps to ensure they don't affect lamps $n+1$ through $2n$. The number of such permutations is $(n!)^{k-n}$.\n\nTherefore, the ratio $N/M$ is:\n\n$$\\frac{N}{M} = \\frac{\\binom{k}{n}}{(n!)^{k-n}}$$\n\nSo, the final answer is $\\boxed{\\frac{\\binom{k}{n}}{(n!)^{k-n}}$.", "answer": "2^{k-n}"}
{"original_question": "Let $ABC$ be a triangle with $AB = AC$. The angle bisectors of $\\angle CAB$ and $\\angle ABC$ meet the sides $BC$ and $CA$ at $D$ and $E$, respectively. Let $K$ be the incentre of triangle $ADC$. Suppose that $\\angle BEK = 45^\\circ$. Find all possible values of $\\angle CAB$.", "question": "Let $ABC$ be a triangle with $AB = AC$. The angle bisectors of $\\angle CAB$ and $\\angle ABC$ meet the sides $BC$ and $CA$ at $D$ and $E$, respectively. Let $K$ be the incentre of triangle $ADC$. Suppose that $\\angle BEK = 45^\\circ$. Find all possible values of $\\angle CAB$.", "response": "Let's think step by step.\n\n[asy]\nunitsize(0.2 cm);\n\npair A, B, C, D, E, K;\n\nA = (0, 0);\nB = (5, 0);\nC = (3, 4.33);\nD = (B + reflect(A,C)*(B))/2;\nE = (C + reflect(A,B)*(C))/2;\nK = incircle(A, D, C)[1];\n\ndraw(A--B--C--cycle);\ndraw(A--D);\ndraw(B--E);\ndraw(K--B);\n\nlabel(\"$A$\", A, SW);\nlabel(\"$B$\", B, SE);\nlabel(\"$C$\", C, N);\nlabel(\"$D$\", D, NE);\nlabel(\"$E$\", E, NW);\nlabel(\"$K$\", K, NW);\n\nlabel(\"$45^\\circ$\", (B + K)/2, NW);\n[/asy]\n\nSince $AB = AC$, we have $\\angle BAC = \\angle BCA$. Let $\\angle BAC = \\angle BCA = \\theta$. Then, $\\angle ABC = 180^\\circ - 2\\theta$.\n\nSince $K$ is the incenter of triangle $ADC$, we have $\\angle AKC = \\angle ADK = 90^\\circ$. Also, $\\angle BEK = 45^\\circ$. Therefore, $\\angle DKE = 180^\\circ - \\angle AKC - \\angle BEK = 135^\\circ$.\n\nSince $\\angle DKE$ and $\\angle ABC$ are vertical angles, we have $\\angle ABC = \\angle DKE = 135^\\circ$. Thus, the possible values of $\\angle CAB$ are $\\boxed{45^\\circ}$ and $\\boxed{135^\\circ}$.\n\nThe answer is \\boxed{45^\\circ, 135^\\circ}", "answer": "60, 90"}
{"original_question": "Determine all functions $f$ from the set of positive integers to the set of positive integers such that, for all positive integers $a$ and $b$, there exists a non-degenerate triangle with sides of lengths \\[ a, \\ f(b) \\text{ and } \\ f(b + f(a) - 1). \\] (A triangle is non-degenerate if its vertices are not collinear.)", "question": "Determine all functions $f$ from the set of positive integers to the set of positive integers such that, for all positive integers $a$ and $b$, there exists a non-degenerate triangle with sides of lengths \\[ a, \\ f(b) \\text{ and } \\ f(b + f(a) - 1). \\] (A triangle is non-degenerate if its vertices are not collinear.)", "response": "Let's think step by step.\n\nLet $a, b$ be positive integers. We need to find $f(b)$ such that there exists a triangle with sides $a, f(b),$ and $f(b + f(a) - 1)$. By the triangle inequality, we have:\n\n$$a + f(b) > f(b + f(a) - 1)$$\n$$f(b) + f(b + f(a) - 1) > a$$\n$$a + f(b + f(a) - 1) > f(b)$$\n\nFrom the first inequality, we get $f(b) > f(b + f(a) - 1) - a$. From the second inequality, we get $f(b) + f(b + f(a) - 1) > a$, which implies $f(b) > a - f(b + f(a) - 1)$. From the third inequality, we get $f(b + f(a) - 1) > a - f(b)$.\n\nCombining these inequalities, we have:\n\n$$f(b) > \\max(f(b + f(a) - 1) - a, a - f(b + f(a) - 1))$$\n\nThis means $f(b)$ must be greater than the maximum of $f(b + f(a) - 1) - a$ and $a - f(b + f(a) - 1)$.\n\nNow, let's consider the function $g(x) = f(x) - x$. Then, we have:\n\n$$g(b) > \\max(g(b + f(a) - 1), g(b + a - f(b)))$$\n\nThis implies that $g(x)$ is non-decreasing. Since $g(x)$ is an integer-valued function, it must be constant. Let $c = g(x)$ for all $x$. Then, $f(x) = x + c$ for all $x$.\n\nSubstituting this back into the original inequalities, we get:\n\n$$a + (a + c) > (a + c + 1)$$\n$$a + a + c > a + c + 1$$\n$$a + a + c > a + (a + c)$$\n\nThese inequalities hold for all positive integers $a$, so $c$ can be any positive integer. Therefore, the only function that satisfies the given conditions is $f(x) = x + c$ for some positive integer $c$.\n\nThus, the answer is $\\boxed{f(x) = x + c, \\text{ where } c \\text{ is a positive integer}}$.", "answer": "f(x)=x"}
{"original_question": "Let $\\mathbb{N}$ be the set of positive integers. Determine all functions $g : \\mathbb{N} \\to \\mathbb{N}$ such that $$(g(m) + n)(m + g(n))$$ is a perfect square for all $m, n \\in \\mathbb{N}$. ", "question": "Let $\\mathbb{N}$ be the set of positive integers. Determine all functions $g : \\mathbb{N} \\to \\mathbb{N}$ such that $$(g(m) + n)(m + g(n))$$ is a perfect square for all $m, n \\in \\mathbb{N}$. ", "response": "Let's think step by step.\n\nLet $f(m, n) = (g(m) + n)(m + g(n))$. We want to find all functions $g$ such that $f(m, n)$ is a perfect square for all $m, n \\in \\mathbb{N}$.\n\nFirst, note that $f(m, n)$ is a perfect square if and only if both $(g(m) + n)$ and $(m + g(n))$ are coprime. This is because the product of two coprime numbers is a perfect square if and only if each of them is a perfect square.\n\nNow, let's consider the following cases:\n\n1. **Case 1: $g(n) = kn$ for some constant $k \\in \\mathbb{N}$:**\n   In this case, $f(m, n) = (kn + n)(m + kn) = (k + 1)(m + n)n$. For $f(m, n)$ to be a perfect square, $(k + 1)(m + n)$ must be a perfect square. However, this is not possible for all $m, n \\in \\mathbb{N}$, as $(k + 1)(m + n)$ can take on any value, not just perfect squares. So, $g(n) = kn$ is not a valid solution.\n\n2. **Case 2: $g(n)$ is not a constant:**\n   Let $g(n) = a_n + bn^2$ for some sequences $(a_n)$ and $(b_n)$, where $a_n, b_n \\in \\mathbb{N}$. Then,\n   $$f(m, n) = (a_m + bm^2 + n)(m + a_n + bn^2).$$\n   For $f(m, n)$ to be a perfect square, we need both terms inside the parentheses to be perfect squares. This implies that $a_m + bm^2$ and $m + a_n + bn^2$ must be perfect squares for all $m, n \\in \\mathbb{N}$. However, this is not possible, as the sequence $(a_n + bn^2)$ grows quadratically, while the sequence $(m)$ grows linearly, making it impossible for both to be perfect squares simultaneously for all $m, n$.\n\nTherefore, the only valid solution is that $g(n)$ is a constant function, i.e., $g(n) = c$ for some constant $c \\in \\mathbb{N}$. In this case, $f(m, n) = (c + n)(m + c)$, which is a perfect square for all $m, n \\in \\mathbb{N}$.\n\nSo, the solution is:\n\n$$\\boxed{g(n) = \\text{constant}}$$", "answer": "c \\geq 0, g(n) = n + c"}
{"original_question": "Given any set $A = \\{a_1, a_2, a_3, a_4\\}$ of four distinct positive integers, we denote the sum $a_1 + a_2 + a_3 + a_4$ by $s_A$. Let $n_A$ denote the number of pairs $(i, j)$ with $1 \\leq i < j \\leq 4$ for which $a_i + a_j$ divides $s_A$. Find all sets $A$ of four distinct positive integers which achieve the largest possible value of $n_A$.", "question": "Given any set $A = \\{a_1, a_2, a_3, a_4\\}$ of four distinct positive integers, we denote the sum $a_1 + a_2 + a_3 + a_4$ by $s_A$. Let $n_A$ denote the number of pairs $(i, j)$ with $1 \\leq i < j \\leq 4$ for which $a_i + a_j$ divides $s_A$. Find all sets $A$ of four distinct positive integers which achieve the largest possible value of $n_A$.", "response": "Let's think step by step.\n\nLet's consider the possible values of $a_i$ and analyze the pairs $(i, j)$ that satisfy the condition $a_i + a_j | s_A$.\n\n**Case 1: $a_1$ is the smallest**\n\nIf $a_1$ is the smallest, then $a_2 + a_3 + a_4$ must be divisible by $a_1$ for some pair $(i, j)$. This means $a_2, a_3, a_4$ must be at least $a_1 + 1$.\n\n- If $a_2 = a_1 + 1$, then $a_3 + a_4 \\geq 2a_1 + 2$, and there are 3 pairs $(i, j)$ that satisfy the condition: $(1, 2), (1, 3), (1, 4)$.\n- If $a_2 = a_1 + 2$, then $a_3 + a_4 \\geq 3a_1 + 3$, and there are 4 pairs: $(1, 2), (1, 3), (1, 4), (2, 3)$.\n- For $a_2 \\geq a_1 + 3$, there are 5 pairs.\n\nSo, for $a_1$ as the smallest, $n_A$ can be 3, 4, or 5.\n\n**Case 2: $a_2$ is the smallest**\n\nSimilarly, if $a_2$ is the smallest, we get the same possibilities for $n_A$ as in Case 1, but with roles of $a_1$ and $a_2$ swapped.\n\n**Case 3: $a_3$ or $a_4$ is the smallest**\n\nIf either $a_3$ or $a_4$ is the smallest, we can apply similar arguments to get the same possibilities for $n_A$.\n\n**Maximizing $n_A$**\n\nTo maximize $n_A$, we want to choose the smallest possible values for $a_i$ that satisfy the distinctness condition. The largest possible value for $n_A$ is achieved when $a_1 = 1, a_2 = 2, a_3 = 3, a_4 = 4$, which gives $s_A = 10$ and $n_A = 5$ (pairs $(1, 2), (1, 3), (1, 4), (2, 3), (2, 4)$).\n\nTherefore, the sets $A$ that achieve the largest possible value of $n_A$ are $\\{1, 2, 3, 4\\}$ and all permutations of this set.\n\n$\\boxed{\\{1, 2, 3, 4\\}, \\{1, 2, 4, 3\\}, \\{2, 1, 3, 4\\}, \\{2, 3, 1, 4\\}, \\{3, 1, 2, 4\\}, \\{3, 2, 1, 4\\}}$", "answer": "{x, 5x, 7x, 11x}, {x, 11x, 19x, 29x}"}
{"original_question": "Let $n > 0$ be an integer. We are given a balance and $n$ weights of weight $2^0, 2^1, \\ldots, 2^{n-1}$. We are to place each of the $n$ weights on the balance, one after another, in such a way that the right pan is never heavier than the left pan. At each step we choose one of the weights that has not yet been placed on the balance, and place it on either the left pan or the right pan, until all of the weights have been placed. Determine the number of ways in which this can be done.", "question": "Let $n > 0$ be an integer. We are given a balance and $n$ weights of weight $2^0, 2^1, \\ldots, 2^{n-1}$. We are to place each of the $n$ weights on the balance, one after another, in such a way that the right pan is never heavier than the left pan. At each step we choose one of the weights that has not yet been placed on the balance, and place it on either the left pan or the right pan, until all of the weights have been placed. Determine the number of ways in which this can be done.", "response": "Let's think step by step.\n\nWe can solve this problem using dynamic programming. Let $f(n)$ be the number of ways to distribute the weights $2^0, 2^1, \\ldots, 2^{n-1}$ such that the right pan is never heavier than the left pan.\n\nBase cases:\n- $f(1) = 2$, as we can either place the weight $2^0$ on the left or right pan.\n- $f(2) = 3$, as we can place $2^1$ on the left pan (left: $2^0$, right: $2^1$), right pan (left: $2^0$, right: $2^1$), or balance (left: $2^0$, right: $2^1$).\n\nNow, for $n \\geq 3$, consider the last weight $2^{n-1}$. We have two cases:\n\n1. Place $2^{n-1}$ on the left pan. In this case, the remaining weights $2^0, 2^1, \\ldots, 2^{n-2}$ must be distributed such that the right pan is never heavier. This is equivalent to distributing $n-1$ weights, so there are $f(n-1)$ ways to do this.\n\n2. Place $2^{n-1}$ on the right pan. In this case, the left pan must always be lighter, so the weights $2^0, 2^1, \\ldots, 2^{n-2}$ must be distributed such that the left pan is never heavier. This is equivalent to distributing $n-1$ weights, but with the constraint that the left pan must always be lighter. There are $f(n-1)$ ways to do this as well.\n\nTherefore, the total number of ways to distribute the $n$ weights is:\n\n$$f(n) = f(n-1) + f(n-1) = 2f(n-1)$$\n\nUsing the base cases, we can compute $f(n)$ for larger values of $n$:\n\n- $f(3) = 2f(2) = 2 \\cdot 3 = 6$\n- $f(4) = 2f(3) = 2 \\cdot 6 = 12$\n- $f(5) = 2f(4) = 2 \\cdot 12 = 24$\n\nand so on.\n\nThus, the number of ways to distribute the weights is given by the sequence $f(n) = 2^n$, and the final answer is:\n\n$$\\boxed{2^n}$$", "answer": "(2n − 1)!!"}
{"original_question": "Find all positive integers $n$ for which there exist non-negative integers $a_1, a_2, \\ldots, a_n$ such that \\[\\frac{1}{2^{a_1}} + \\frac{1}{2^{a_2}} + \\cdot\\cdot\\cdot + \\frac{1}{2^{a_n}} = \\frac{1}{3^{a_1}} + \\frac{2}{3^{a_2}} + \\cdot\\cdot\\cdot + \\frac{n}{3^{a_n}} = 1.\\]", "question": "Find all positive integers $n$ for which there exist non-negative integers $a_1, a_2, \\ldots, a_n$ such that \\[\\frac{1}{2^{a_1}} + \\frac{1}{2^{a_2}} + \\cdot\\cdot\\cdot + \\frac{1}{2^{a_n}} = \\frac{1}{3^{a_1}} + \\frac{2}{3^{a_2}} + \\cdot\\cdot\\cdot + \\frac{n}{3^{a_n}} = 1.\\]", "response": "Let's think step by step.\n\nLet's consider the first equation:\n\n\\[\\frac{1}{2^{a_1}} + \\frac{1}{2^{a_2}} + ... + \\frac{1}{2^{a_n}} = 1\\]\n\nWe can rewrite this as:\n\n\\[2^{a_1} \\left(\\frac{1}{2^{a_1}}\\right) + 2^{a_2} \\left(\\frac{1}{2^{a_2}}\\right) + ... + 2^{a_n} \\left(\\frac{1}{2^{a_n}}\\right) = 2^0\\]\n\nWhich simplifies to:\n\n\\[2^{a_1} + 2^{a_2} + ... + 2^{a_n} = 1\\]\n\nNow, let's consider the second equation:\n\n\\[\\frac{1}{3^{a_1}} + \\frac{2}{3^{a_2}} + ... + \\frac{n}{3^{a_n}} = 1\\]\n\nSimilarly, we can rewrite this as:\n\n\\[3^{a_1} \\left(\\frac{1}{3^{a_1}}\\right) + 3^{a_2} \\left(\\frac{2}{3^{a_2}}\\right) + ... + 3^{a_n} \\left(\\frac{n}{3^{a_n}}\\right) = 3^0\\]\n\nWhich simplifies to:\n\n\\[3^{a_1} + 3^{a_2} + ... + 3^{a_n} = 1\\]\n\nNow, we have a system of equations:\n\n\\begin{align*}\n2^{a_1} + 2^{a_2} + ... + 2^{a_n} &= 1 \\\\\n3^{a_1} + 3^{a_2} + ... + 3^{a_n} &= 1\n\\end{align*}\n\nIf $n=1$, then $a_1=0$ for both equations, which satisfies the system.\n\nFor $n>1$, let's assume that $a_1=0$ for both equations. Then, the first equation becomes:\n\n\\[2^0 + 2^{a_2} + ... + 2^{a_n} = 1\\]\n\nWhich implies that $2^{a_2} + ... + 2^{a_n} = 1$, a contradiction since the left side is always less than 1 for $n>1$.\n\nTherefore, the only solution is $n=\\boxed{1}$.", "answer": "1, 2 mod 4"}
{"original_question": "A configuration of 4027 points in the plane is called Colombian if it consists of 2013 red points and 2014 blue points, and no three of the points of the configuration are collinear. By drawing some lines, the plane is divided into several regions. An arrangement of lines is good for a Colombian configuration if the following two conditions are satisfied:\n\n• no line passes through any point of the configuration;\n• no region contains points of both colours.\n\nFind the least value of $k$ such that for any Colombian configuration of 4027 points, there is a good arrangement of $k$ lines.", "question": "A configuration of 4027 points in the plane is called Colombian if it consists of 2013 red points and 2014 blue points, and no three of the points of the configuration are collinear. By drawing some lines, the plane is divided into several regions. An arrangement of lines is good for a Colombian configuration if the following two conditions are satisfied:\n\n• no line passes through any point of the configuration;\n• no region contains points of both colours.\n\nFind the least value of $k$ such that for any Colombian configuration of 4027 points, there is a good arrangement of $k$ lines.", "response": "Let's think step by step.\n\nWe can approach this problem using the concept of Ramsey theory, specifically the Ramsey number $R(2, 2, 4027)$. The Ramsey number $R(m, n, k)$ is the smallest integer $n$ such that any graph with $n$ vertices and edges colored either red or blue will contain either a red $m$-clique, a blue $n$-clique, or an independent set of size $k$.\n\nIn this case, we are looking for $R(2, 2, 4027)$, which represents the smallest number of lines ($k$) needed to ensure that any Colombian configuration of 4027 points has a good arrangement.\n\nUsing the upper bound for Ramsey numbers, we have:\n\n$$R(2, 2, 4027) \\leq \\frac{(2013 + 2014)^2}{4027} \\approx 1007$$\n\nHowever, we can do better than this bound. Consider a configuration of 4027 points arranged in a grid of $2013 \\times 2014$ (or vice versa). In this configuration, any arrangement of lines will either separate the red points into a single region or the blue points into a single region, violating the conditions of a good arrangement.\n\nTherefore, we can conclude that:\n\n$$R(2, 2, 4027) = 1007$$\n\nSo, the least value of $k$ is $\\boxed{1007}$.", "answer": "2013"}
{"original_question": "Let \\(n \\geq 2\\) be an integer. Consider an \\(n \\times n\\) chessboard consisting of \\(n^2\\) unit squares. A configuration of \\(n\\) rooks on this board is \\emph{peaceful} if every row and every column contains exactly one rook. Find the greatest positive integer \\(k\\) such that, for each peaceful configuration of \\(n\\) rooks, there is a \\(k \\times k\\) square which does not contain a rook on any of its \\(k^2\\) unit squares.", "question": "Let \\(n \\geq 2\\) be an integer. Consider an \\(n \\times n\\) chessboard consisting of \\(n^2\\) unit squares. A configuration of \\(n\\) rooks on this board is \\emph{peaceful} if every row and every column contains exactly one rook. Find the greatest positive integer \\(k\\) such that, for each peaceful configuration of \\(n\\) rooks, there is a \\(k \\times k\\) square which does not contain a rook on any of its \\(k^2\\) unit squares.", "response": "To determine the greatest positive integer \\(k\\) that guarantees a rook-free \\(k \\times k\\) square in any peaceful configuration, we can use a combinatorial argument:\n\n1. **Understanding Peaceful Configurations**: In a peaceful configuration, each row and column must have exactly one rook. This means that the rooks are distributed such that no two rooks share a row or a column.\n\n2. **Maximum Density of Rooks**: The maximum number of rooks that can be placed on the board without violating the peaceful condition is achieved when the rooks are placed in a diagonal pattern. For example, for an \\(n \\times n\\) board, the maximum number of rooks is \\(\\lfloor \\frac{n^2}{2} \\rfloor\\).\n\n3. **Rook-Free Square Size**: Now, consider a \\(k \\times k\\) square. If \\(k\\) is chosen such that \\(k^2\\) is greater than the maximum number of rooks in a diagonal pattern, then there must be at least one square within that \\(k \\times k\\) square that does not contain any rooks.\n\n4. **Calculating \\(k\\)**: We want to find the smallest \\(k\\) such that \\(k^2 > \\lfloor \\frac{n^2}{2} \\rfloor\\). This ensures that any peaceful configuration will have a rook-free square of size \\(k \\times k\\).\n\nTherefore, the greatest positive integer \\(k\\) is:\n\n\\[\\boxed{k = \\lfloor \\sqrt{2 \\lfloor \\frac{n^2}{2} \\rfloor} \\rfloor + 1}\\]\n\nThis \\(k\\) ensures that for any peaceful arrangement of \\(n\\) rooks on an \\(n \\times n\\) board, there will be a \\(k \\times k\\) square without any rooks.", "answer": "\\lfloor \\sqrt{n - 1} \\rfloor"}
{"original_question": "Determine all triples $(a,b,c)$ of positive integers such that each of the numbers\n\n\\[ ab - c, \\quad bc - a, \\quad ca - b \\]\n\nis a power of 2.\n\n\\[(\\text{A power of 2 is an integer of the form } 2^n, \\text{ where } n \\text{ is a non-negative integer.})\\]", "question": "Determine all triples $(a,b,c)$ of positive integers such that each of the numbers\n\n\\[ ab - c, \\quad bc - a, \\quad ca - b \\]\n\nis a power of 2.\n\n\\[(\\text{A power of 2 is an integer of the form } 2^n, \\text{ where } n \\text{ is a non-negative integer.})\\]", "response": "Let's think step by step.\n\nWe can rewrite the given conditions as:\n\n\\[ab - c = 2^m, \\quad bc - a = 2^n, \\quad ca - b = 2^p\\]\n\nfor some non-negative integers $m, n, p$.\n\nAdding the first and third equations, we get:\n\n\\[(ab - c) + (ca - b) = 2^m + 2^p \\implies a(b + c) - (c + b) = 2^m + 2^p\\]\n\nSimplifying, we have:\n\n\\[a(b + c) - (c + b) = 2^m + 2^p \\implies a(b - c) = 2^m + 2^p\\]\n\nSince $a, b, c$ are positive integers, $b - c$ must also be a power of 2. Let $b - c = 2^q$ for some non-negative integer $q$. Then:\n\n\\[a \\cdot 2^q = 2^m + 2^p\\]\n\nThis implies that $a$ is a power of 2 as well, say $a = 2^r$. Substituting, we get:\n\n\\[2^{r+q} = 2^m + 2^p\\]\n\nThis means $r + q = m$ or $r + q = p$. Without loss of generality, let's assume $r + q = m$. Then:\n\n\\[2^m = 2^{r+q} = 2^r \\cdot 2^q = a \\cdot (b - c)\\]\n\nSince $2^m$ is a power of 2, $a, b - c$ must be powers of 2 as well. Let $a = 2^s$ and $b - c = 2^t$ for some non-negative integers $s, t$. Then:\n\n\\[2^s \\cdot 2^t = 2^m \\implies s + t = m\\]\n\nNow, we have $a = 2^s, b = 2^t + c$, and $c = \\frac{b - 2^t}{2}$. Substituting into the second equation, we get:\n\n\\[2^t + c - a = 2^n \\implies 2^t - 2^s = 2^n\\]\n\nThis implies that $t = n$ or $t = p$. Since $t$ is a non-negative integer, we must have $t = n$.\n\nTherefore, we have:\n\n\\[a = 2^s, \\quad b = 2^n + c, \\quad c = \\frac{b - 2^n}{2}\\]\n\nwhere $a, b, c$ are positive integers, and $ab - c, bc - a, ca - b$ are all powers of 2.\n\nThe solution set is all triplets of the form:\n\n\\[\\boxed{(2^s, 2^n + 2^t, 2^t)}\\]\n\nwhere $s, n, t$ are non-negative integers.", "answer": "(2, 2, 2), (2, 2, 3), (2, 6, 11), (3, 5, 7)"}
{"original_question": "Let $\\mathbb{R}$ be the set of real numbers. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ satisfying the equation\n\n\\[ f(x + f(x + y)) + f(xy) = x + f(x + y) + yf(x) \\]\n\nfor all real numbers $x$ and $y$.", "question": "Let $\\mathbb{R}$ be the set of real numbers. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ satisfying the equation\n\n\\[ f(x + f(x + y)) + f(xy) = x + f(x + y) + yf(x) \\]\n\nfor all real numbers $x$ and $y$.", "response": "Let's think step by step.\n\nSetting $x = 0$, we get\n\n$$f(f(y)) + f(0) = f(y) + 0 \\cdot f(0) \\implies f(f(y)) = f(y)$$\n\nSetting $y = 0$, we get\n\n$$f(x + f(0)) + f(0) = x + f(x) \\implies f(x + f(0)) = x + f(x) - f(0)$$\n\nNow, let's substitute $x = f(0)$ into the original equation:\n\n$$f(f(f(0) + y)) + f(f(0)y) = f(0) + f(f(0) + y) + yf(f(0))$$\n\nUsing the properties we've found, this simplifies to\n\n$$f(f(y)) + f(0)y = f(0) + f(y) + yf(0)$$\n\nSince $f(f(y)) = f(y)$, we can rewrite this as\n\n$$f(y) + f(0)y = f(0) + f(y) + yf(0)$$\n\nSubtracting $f(y)$ and $yf(0)$ from both sides, we get\n\n$$f(0)y = f(0)$$\n\nThis implies that $f(0) = 0$ or $y = 0$ for all $y$. If $f(0) = 0$, then substituting $x = 0$ into the equation gives us\n\n$$f(f(y)) = f(y)$$\n\nfor all $y$, which means $f(x) = cx$ for some constant $c$. Plugging this back into the original equation, we can verify that it satisfies the equation.\n\nTherefore, the solution is $\\boxed{f(x) = cx}$ for some constant $c \\in \\mathbb{R}$.", "answer": "f(x)=x, f(x)=2-x"}
{"original_question": "A set of positive integers is called fragrant if it contains at least two elements and each of its elements has a prime factor in common with at least one of the other elements. Let $P(n) = n^2 + n + 1$. What is the least possible value of the positive integer $b$ such that there exists a non-negative integer $a$ for which the set\n\n$$\\{P(a+1), P(a+2), \\ldots, P(a+b)\\}$$\n\nis fragrant?", "question": "A set of positive integers is called fragrant if it contains at least two elements and each of its elements has a prime factor in common with at least one of the other elements. Let $P(n) = n^2 + n + 1$. What is the least possible value of the positive integer $b$ such that there exists a non-negative integer $a$ for which the set\n\n$$\\{P(a+1), P(a+2), \\ldots, P(a+b)\\}$$\n\nis fragrant?", "response": "Let's think step by step.\n\nWe start by evaluating $P(n)$ for small values of $n$:\n\n- $P(1) = 1^2 + 1 + 1 = 3$\n- $P(2) = 2^2 + 2 + 1 = 7$\n- $P(3) = 3^2 + 3 + 1 = 13$\n\nWe notice that $P(n)$ is always a prime number for positive integers $n$. This is because $n^2 + n + 1$ is always odd, and the only even prime is 2, which cannot be a factor of $n^2 + n + 1$ for any positive integer $n$.\n\nNow, let's consider the set $\\{P(a+1), P(a+2), \\ldots, P(a+b)\\}$. Since each element in this set is a prime number, for the set to be fragrant, there must be at least two elements that share a common prime factor.\n\nThe smallest possible value of $b$ that ensures this is when $a+2$ and $a+3$ are both in the set. This means $P(a+2) = P(a+3) = n$, where $n$ is a prime number.\n\nSubstituting $n$ back into the equation for $P(n)$, we get:\n\n- $P(a+2) = (a+2)^2 + (a+2) + 1 = n$\n- $P(a+3) = (a+3)^2 + (a+3) + 1 = n$\n\nSimplifying these equations, we get:\n\n- $a^2 + 4a + 5 = n$\n- $a^2 + 6a + 7 = n$\n\nSubtracting the first equation from the second, we get:\n\n- $2a + 2 = 0 \\implies a = -1$\n\nHowever, since $a$ must be a non-negative integer, we reject this solution.\n\nThe next smallest value of $a$ to consider is 0:\n\n- $P(2) = 7$\n- $P(3) = 13$\n\nBoth 7 and 13 are prime, and they share no common factors. So, we need to find the next set of primes that satisfy the condition.\n\nThe next set of primes is $P(4) = 17$ and $P(5) = 23$. These two numbers also share no common factors.\n\nContinuing this pattern, we find that the smallest value of $b$ for which the set $\\{P(a+1), P(a+2), \\ldots, P(a+b)\\}$ is fragrant is $\\boxed{5}$.", "answer": "6"}
{"original_question": "The equation\n\n$$(x - 1)(x - 2) \\cdots (x - 2016) = (x - 1)(x - 2) \\cdots (x - 2016)$$\n\nis written on the board, with 2016 linear factors on each side. What is the least possible value of $k$ for which it is possible to erase exactly $k$ of these 4032 linear factors so that at least one factor remains on each side and the resulting equation has no real solutions?", "question": "The equation\n\n$$(x - 1)(x - 2) \\cdots (x - 2016) = (x - 1)(x - 2) \\cdots (x - 2016)$$\n\nis written on the board, with 2016 linear factors on each side. What is the least possible value of $k$ for which it is possible to erase exactly $k$ of these 4032 linear factors so that at least one factor remains on each side and the resulting equation has no real solutions?", "response": "Let's think step by step.\n\nWe can rewrite the equation as:\n\n$$\\prod_{i=1}^{2016} (x - i) = \\prod_{j=1}^{2016} (x - j)$$\n\nTo make the equation have no real solutions, we need to ensure that the quadratic equation $x^2 - (a+b)x + ab = 0$ has no real roots for any $a, b$ where $1 \\leq a, b \\leq 2016$. This occurs when the discriminant, $D = (a+b)^2 - 4ab$, is negative for all pairs $(a, b)$.\n\nThe minimum value of $k$ we can erase is when we remove the factors corresponding to the largest values of $a$ and $b$, i.e., $a = 2016$ and $b = 1$. In this case, the discriminant becomes:\n\n$$D = (2016 + 1)^2 - 4 \\cdot 2016 \\cdot 1 = 4032^2 - 8064 = 16777216 - 8064 = 16696552$$\n\nSince $16696552 < 0$, erasing these two factors ensures that the resulting equation has no real solutions.\n\nTherefore, the least possible value of $k$ is $\\boxed{2}$.", "answer": "2016"}
{"original_question": "Let $\\mathbb{R}$ be the set of real numbers. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ such that, for all real numbers $x$ and $y$,\n\\[\nf \\left( f(x) f(y) \\right) + f(x+y) = f(xy).\n\\]", "question": "Let $\\mathbb{R}$ be the set of real numbers. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ such that, for all real numbers $x$ and $y$,\n\\[\nf \\left( f(x) f(y) \\right) + f(x+y) = f(xy).\n\\]", "response": "\\boxed{\n\\begin{align*}\nf(x) &= 0 \\quad \\text{for all } x \\in \\mathbb{R} \\quad \\text{or} \\\\\nf(x) &= \\begin{cases}\n1, & \\text{if } x = 0 \\\\\n0, & \\text{otherwise}\n\\end{cases}\n\\end{align*}\n}\n\n**Solution:**\n\nLet's start by setting $y = 0$ in the given equation:\n\n$$f(f(x) \\cdot 0) + f(x) = f(0)$$\n\nSince $f(0 \\cdot 0)$ is undefined, we have two cases:\n\n1. **Case 1: $f(0) = 0$**\n\nIn this case, the equation becomes:\n\n$$f(0) + f(x) = f(0) \\implies f(x) = 0 \\text{ for all } x \\in \\mathbb{R}$$\n\nwhich is a valid solution.\n\n2. **Case 2: $f(0) \\neq 0$**\n\nWithout loss of generality, let $f(0) = 1$. Now, setting $y = 1$ in the original equation:\n\n$$f(f(x) \\cdot 1) + f(x + 1) = f(x)$$\n\nSince $f(1) \\neq 0$, we can divide by $f(1)$:\n\n$$f(x) + \\frac{f(x + 1)}{f(1)} = 1$$\n\nLet $g(x) = \\frac{f(x + 1)}{f(1)}$. Then, we have:\n\n$$f(x) + g(x) = 1$$\n\nNow, consider the function $h(x) = f(x) - 1$. Substituting into the original equation:\n\n$$f(h(x) \\cdot h(y)) + f(x + y) = h(xy) + 1$$\n\nSince $f(0) = 1$, we have $h(0) = 0$, so $h(x) \\cdot h(y) = 0$ implies $h(x) = 0$ or $h(y) = 0$. Thus, $h(x)$ is the zero function, and $f(x) = 1$ for all $x$.\n\nTherefore, the solutions are $f(x) = 0$ for all $x$ or $f(x) = 1$ for all $x$.", "answer": "f(x)=0, f(x)=x-1, f(x)=1-x"}
{"original_question": "A site is any point \\( (x, y) \\) in the plane such that \\( x \\) and \\( y \\) are both positive integers less than or equal to 20. \n\nInitially, each of the 400 sites is unoccupied. Amy and Ben take turns placing stones with Amy going first. On her turn, Amy places a new red stone on an unoccupied site such that the distance between any two sites occupied by red stones is not equal to \\( \\sqrt{5} \\). On his turn, Ben places a new blue stone on any unoccupied site. (A site occupied by a blue stone is allowed to be at any distance from any other occupied site.) They stop as soon as a player cannot place a stone.\n\nFind the greatest \\( K \\) such that Amy can ensure that she places at least \\( K \\) red stones, no matter how Ben places his blue stones.", "question": "A site is any point \\( (x, y) \\) in the plane such that \\( x \\) and \\( y \\) are both positive integers less than or equal to 20. \n\nInitially, each of the 400 sites is unoccupied. Amy and Ben take turns placing stones with Amy going first. On her turn, Amy places a new red stone on an unoccupied site such that the distance between any two sites occupied by red stones is not equal to \\( \\sqrt{5} \\). On his turn, Ben places a new blue stone on any unoccupied site. (A site occupied by a blue stone is allowed to be at any distance from any other occupied site.) They stop as soon as a player cannot place a stone.\n\nFind the greatest \\( K \\) such that Amy can ensure that she places at least \\( K \\) red stones, no matter how Ben places his blue stones.", "response": "To solve this problem, we analyze the game strategically. Here's a step-by-step breakdown:\n\n1. **Understanding the Constraint**: Amy's placement rule ensures that no two red stones are at a distance of $\\sqrt{5}$. This means red stones must be placed in a way that they form a set of points that do not form a regular pentagon (as that would imply a distance of $\\sqrt{5}$ between any two points).\n\n2. **Grid Analysis**: The plane can be divided into a grid of $5 \\times 5$ squares, each of side length $4$ (since $20/ \\sqrt{5} \\approx 4$). This grid ensures that any two red stones placed within it will be at a distance greater than $\\sqrt{5}$.\n\n3. **Amy's Strategy**: Amy can place her first red stone in the center of the grid (site $(10, 10)$). This ensures that no matter where Ben places his blue stones, she can always respond by placing a red stone in a way that maintains the distance constraint.\n\n4. **Ben's Role**: Ben's turns do not affect the distance constraint between red stones as long as they are within their respective $5 \\times 5$ grids.\n\n5. **Maximizing Red Stones**: Amy can place a red stone in each of the $25$ $5 \\times 5$ sub-grids, ensuring $K = 25$ red stones.\n\nTherefore, the greatest $K$ Amy can ensure is $\\boxed{25}$.", "answer": "100"}
{"original_question": "Let \\( I \\) be the incentre of acute triangle \\( ABC \\) with \\( AB \\neq AC \\). The incircle \\( \\omega \\) of \\( ABC \\) is tangent to sides \\( BC, CA, \\) and \\( AB \\) at \\( D, E, \\) and \\( F \\), respectively. The line through \\( D \\) perpendicular to \\( EF \\) meets \\( \\omega \\) again at \\( R \\). Line \\( AR \\) meets \\( \\omega \\) again at \\( P \\). The circumcircles of triangles \\( PCE \\) and \\( PBF \\) meet again at \\( Q \\).\n\nProve that lines \\( DI \\) and \\( PQ \\) meet on the line through \\( A \\) perpendicular to \\( AI \\).", "question": "Let \\( I \\) be the incentre of acute triangle \\( ABC \\) with \\( AB \\neq AC \\). The incircle \\( \\omega \\) of \\( ABC \\) is tangent to sides \\( BC, CA, \\) and \\( AB \\) at \\( D, E, \\) and \\( F \\), respectively. The line through \\( D \\) perpendicular to \\( EF \\) meets \\( \\omega \\) again at \\( R \\). Line \\( AR \\) meets \\( \\omega \\) again at \\( P \\). The circumcircles of triangles \\( PCE \\) and \\( PBF \\) meet again at \\( Q \\).\n\nProve that lines \\( DI \\) and \\( PQ \\) meet on the line through \\( A \\) perpendicular to \\( AI \\).", "response": "**Solution:**\n\n1. **Construction and Key Points:**\n   - Let $I$ be the incenter of $\\triangle ABC$ with $AB \\neq AC$.\n   - Let $D, E, F$ be the points of tangency of the incircle $\\omega$ with sides $BC, CA, AB$, respectively.\n   - Construct $R$ as the point where the perpendicular from $D$ to $EF$ intersects $\\omega$.\n   - Let $P$ be the intersection of $AR$ and $\\omega$.\n   - Let $Q$ be the intersection of the circumcircles of $\\triangle PCE$ and $\\triangle PBF$.\n\n2. **Angle Relationships:**\n   - Since $I$ is the incenter, $\\angle BID = \\angle CID = 90^\\circ$ (as $ID$ is an angle bisector).\n   - $\\angle PEF = \\angle PAF$ (vertical angles).\n   - $\\angle PEF + \\angle PAF = 90^\\circ$ (linear pair).\n\n3. **Consequences of Tangency:**\n   - $ID \\perp EF$ (as $I$ is the incenter).\n   - $AR \\perp EF$ (as $R$ is the foot of the perpendicular from $D$ to $EF$).\n\n4. **Perpendicularity and Cyclic Quadrilaterals:**\n   - $\\angle PQR = \\angle PBC$ (angles in the same arc $PQ$).\n   - $\\angle PBC = \\angle PAF$ (opposite angles in cyclic quadrilateral $PBCF$).\n   - Thus, $\\angle PQR = \\angle PAF$.\n\n5. **Parallel Lines and Transversals:**\n   - $\\angle PAF + \\angle PQR = 180^\\circ$ (linear pair).\n   - $\\angle PAF = 90^\\circ$ (from step 2).\n   - Therefore, $\\angle PQR = 90^\\circ$.\n\n6. **Final Conclusion:**\n   - $\\angle PQR = 90^\\circ$ and $\\angle PIQ = 90^\\circ$ (as $Q$ lies on the circumcircle of $\\triangle PBF$).\n   - Thus, $PQ \\parallel AI$.\n   - Since $A$ is the intersection of $PQ$ and the line through $I$, $DI \\perp PQ$.\n\nHence, we've shown that $DI$ and $PQ$ meet on the line through $A$ perpendicular to $AI$.\n\n$\\boxed{}$", "answer": "f(x)=0, f(x)=2x+k"}
{"original_question": "Find all pairs \\((k,n)\\) of positive integers such that\n\\[\nk! = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\n\\]", "question": "Find all pairs \\((k,n)\\) of positive integers such that\n\\[\nk! = (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\n\\]", "response": "To solve this problem, we will analyze the factors on the right-hand side and their relationship to $k!$.\n\n1. **Factorization of the right-hand side:**\n   The right-hand side is a product of consecutive differences of powers of 2:\n   \\[\n   (2^n - 1)(2^n - 2)(2^n - 4) \\cdots (2^n - 2^{n-1}).\n   \\]\n   This can be rewritten as:\n   \\[\n   2^n(1 - \\frac{1}{2})(2 - \\frac{1}{2^n})(4 - \\frac{1}{2^{n-1}})\\cdots(2^{n-1} - \\frac{1}{2}).\n   \\]\n   Simplifying, we get:\n   \\[\n   \\frac{2^n!}{2^{n+1}} = \\frac{k!}{2}.\n   \\]\n\n2. **Equating the factorials:**\n   We have:\n   \\[\n   \\frac{k!}{2} = 2^n.\n   \\]\n   This implies that $k! = 2^{n+1}$.\n\n3. **Finding valid pairs $(k, n)$:**\n   - For $n = 1$, we have $2^2 = 4$, so $k! = 24$. The pairs are $(k, n) = (3, 1)$.\n   - For $n = 2$, we have $2^3 = 8$, so $k! = 480$. However, $480!$ is much larger than any power of 2, so there are no valid pairs for $n = 2$.\n   - For $n \\geq 3$, the powers of 2 grow very quickly, and $k!$ will always be much larger.\n\nThus, the only solution is $\\boxed{(k, n) = (3, 1)}$.", "answer": "(1, 1), (2, 3)"}
{"original_question": "There is an integer $n > 1$. There are $n^2$ stations on a slope of a mountain, all at different altitudes. Each of two cable car companies, $A$ and $B$, operates $k$ cable cars; each cable car provides a transfer from one of the stations to a higher one (with no intermediate stops). The $k$ cable cars of $A$ have $k$ different starting points and $k$ different finishing points, and a cable car which starts higher also finishes higher. The same conditions hold for $B$. We say that two stations are linked by a company if one can start from the lower station and reach the higher one by using one or more cars of that company (no other movements between stations are allowed).\n\nDetermine the smallest positive integer $k$ for which one can guarantee that there are two stations that are linked by both companies.", "question": "There is an integer $n > 1$. There are $n^2$ stations on a slope of a mountain, all at different altitudes. Each of two cable car companies, $A$ and $B$, operates $k$ cable cars; each cable car provides a transfer from one of the stations to a higher one (with no intermediate stops). The $k$ cable cars of $A$ have $k$ different starting points and $k$ different finishing points, and a cable car which starts higher also finishes higher. The same conditions hold for $B$. We say that two stations are linked by a company if one can start from the lower station and reach the higher one by using one or more cars of that company (no other movements between stations are allowed).\n\nDetermine the smallest positive integer $k$ for which one can guarantee that there are two stations that are linked by both companies.", "response": "\\boxed{6}\n\n**Proof:**\n\nConsider $n=3$ and $k=5$. We can arrange the stations and cable cars as follows:\n\n- Stations: $A, B, C$ (in ascending order)\n- Company A: $A1 \\rightarrow B, A2 \\rightarrow C, A3 \\rightarrow B, A4 \\rightarrow C, A5 \\rightarrow B$\n- Company B: $B1 \\rightarrow C, B2 \\rightarrow A, B3 \\rightarrow C, B4 \\rightarrow A, B5 \\rightarrow C$\n\nIn this setup, no two stations are linked by both companies.\n\nNow, let's increase $k$ to 6. We can modify the arrangement as follows:\n\n- Add a new station $D$ between $B$ and $C$.\n- Company A: $A1 \\rightarrow B, A2 \\rightarrow D, A3 \\rightarrow C, A4 \\rightarrow D, A5 \\rightarrow B$\n- Company B: $B1 \\rightarrow D, B2 \\rightarrow A, B3 \\rightarrow C, B4 \\rightarrow D, B5 \\rightarrow A$\n\nNow, every station is linked to every other station by at least one of the companies. For example, to go from $A$ to $C$, you can take:\n- A1 to B, then B3 to C (Company A)\n- A2 to D, then B1 to C (Company B)\n\nThus, for $n>1$ and $k \\geq 6$, we can guarantee that there are two stations linked by both companies.", "answer": "n^2-n+1"}
{"original_question": "Let \\( \\mathbb{R}^+ \\) denote the set of positive real numbers. Find all functions \\( f : \\mathbb{R}^+ \\to \\mathbb{R}^+ \\) such that for each \\( x \\in \\mathbb{R}^+ \\), there is exactly one \\( y \\in \\mathbb{R}^+ \\) satisfying\n\n\\[\n x f(y) + y f(x) \\leq 2.\n\\]", "question": "Let \\( \\mathbb{R}^+ \\) denote the set of positive real numbers. Find all functions \\( f : \\mathbb{R}^+ \\to \\mathbb{R}^+ \\) such that for each \\( x \\in \\mathbb{R}^+ \\), there is exactly one \\( y \\in \\mathbb{R}^+ \\) satisfying\n\n\\[\n x f(y) + y f(x) \\leq 2.\n\\]", "response": "\\boxed{\n\\begin{align*}\nf(x) &= \\frac{2}{x + 1} \\quad \\text{for all } x \\in \\mathbb{R}^+ \\\\\n\\end{align*}\n}\n\n**Proof:**\n\n1. **Uniqueness:** Suppose there exist \\( x, y_1, y_2 \\in \\mathbb{R}^+ \\) such that \\( y_1 \\neq y_2 \\) and \\( xf(y_1) + y_1f(x) = y_2f(x) + xf(y_2) = 2 \\). Subtracting these equations, we get \\( (y_1 - y_2)(xf(x) - f(y_2)) = 0 \\). Since \\( x, y_1, y_2 \\) are positive, \\( y_1 \\neq y_2 \\) implies \\( xf(x) = f(y_2) \\). This shows that \\( f(x) \\) is a constant function.\n\n2. **Existence and Constant Function:** Let \\( f(x) = c \\) for some \\( c \\in \\mathbb{R}^+ \\). Then, for any \\( x, y \\in \\mathbb{R}^+ \\), we have \\( xc + yc \\leq 2 \\), which is true for all \\( x, y \\) if and only if \\( c = \\frac{2}{x + 1} \\).\n\n3. **Verification:** For \\( f(x) = \\frac{2}{x + 1} \\), we have \\( xf(y) + yf(x) = \\frac{2x}{x + 1} + \\frac{2y}{y + 1} \\leq 2 \\) for all \\( x, y \\in \\mathbb{R}^+ \\).\n\nThus, the unique function satisfying the given condition is \\( f(x) = \\frac{2}{x + 1} \\).", "answer": "\\frac{1}{x}"}
{"original_question": "Find all triples \\((a,b,p)\\) of positive integers with \\( p \\) prime and\n\\[\na^p = b! + p.\n\\]", "question": "Find all triples \\((a,b,p)\\) of positive integers with \\( p \\) prime and\n\\[\na^p = b! + p.\n\\]", "response": "To solve the equation $a^p = b! + p$ for positive integers $a$, $b$, and a prime $p$, we can follow these steps:\n\n1. **Base Cases**: For small values of $p$, we can check if there are solutions:\n   - For $p = 2$, we have $a^2 = b! + 2$. The only solution is $a = 2$ and $b = 1$, as $2^2 = 1! + 2$.\n   - For $p = 3$, we get $a^3 = b! + 3$. There are no solutions since $3! = 6$ is less than $3^3 = 27$.\n\n2. **General Case**: For $p > 2$, we can make the following observations:\n   - Since $p$ is prime, $a$ and $b$ must be greater than $1$.\n   - As $b!$ grows much faster than $p$, we can assume $a > b$.\n\n3. **Factorization and Congruence**:\n   - Note that $a^p - p = b!$. We can factor the left side as $(a - 1)^p + (a^{p-1} + a^{p-2} + ... + 1)p$.\n   - Since $p$ is prime, $(a - 1)^p$ is divisible by $p$ (by Fermat's Little Theorem).\n   - Thus, $b!$ must be equal to $(a - 1)^p + k \\cdot p$ for some integer $k$.\n\n4. **Analyzing $b!$**:\n   - The largest factor of $b!$ that is less than $p$ is $b-1$. So, $(a - 1)^p < b! < a^p$.\n   - This implies that $a - 1 < b < a$.\n\n5. **Solving for $a$ and $b$**:\n   - We can try different values of $a$ to find corresponding $b$. For example, if $a = 3$, then $3^p - 3 = b!$, but $3! = 6$ is too small.\n   - For $a = 4$, we get $4^p - 4 = b!$, and $4! = 24$ is a possibility. We find $p = 3$ and $b = 3$ satisfy the equation.\n\n6. **Conclusion**:\n   - The only solution is $\\boxed{(a, b, p) = (4, 3, 3)}$.", "answer": "(2, 2, 2), (3, 4, 3)"}
{"original_question": "Let \\( n \\) be a positive integer. A \\emph{Nordic square} is an \\( n \\times n \\) board containing all the integers from \\( 1 \\) to \\( n^2 \\) so that each cell contains exactly one number. Two different cells are considered adjacent if they share a common side. Every cell that is adjacent only to cells containing larger numbers is called a \\emph{valley}. An \\emph{uphill path} is a sequence of one or more cells such that:\n\\begin{itemize} \n    \\item \\(\\) the first cell in the sequence is a valley,\n    \\item \\(\\) each subsequent cell in the sequence is adjacent to the previous cell, and\n    \\item \\(\\) the numbers written in the cells in the sequence are in increasing order.\n\\end{itemize}\nFind, as a function of \\( n \\), the smallest possible total number of uphill paths in a Nordic square.", "question": "Let \\( n \\) be a positive integer. A \\emph{Nordic square} is an \\( n \\times n \\) board containing all the integers from \\( 1 \\) to \\( n^2 \\) so that each cell contains exactly one number. Two different cells are considered adjacent if they share a common side. Every cell that is adjacent only to cells containing larger numbers is called a \\emph{valley}. An \\emph{uphill path} is a sequence of one or more cells such that:\n\\begin{itemize} \n    \\item \\(\\) the first cell in the sequence is a valley,\n    \\item \\(\\) each subsequent cell in the sequence is adjacent to the previous cell, and\n    \\item \\(\\) the numbers written in the cells in the sequence are in increasing order.\n\\end{itemize}\nFind, as a function of \\( n \\), the smallest possible total number of uphill paths in a Nordic square.", "response": "To solve this problem, we will use dynamic programming. Let $f(n)$ be the smallest possible total number of uphill paths in an $n \\times n$ Nordic square.\n\n**Base Cases:**\n- For $n = 1$, there is only one cell, and the only path is an empty sequence, so $f(1) = 0$.\n- For $n = 2$, the Nordic square is:\n\n$$\n\\begin{bmatrix}\n1 & 2 \\\\\n3 & 4\n\\end{bmatrix}\n$$\n\nThere are two uphill paths: (1, 3) and (2, 4), so $f(2) = 2$.\n\n**Recursive Definition:**\nFor $n \\geq 3$, consider the bottom row of the Nordic square. The last cell in this row must be part of an uphill path. There are $n$ choices for this cell. After choosing this cell, we are left with an $(n-1) \\times (n-1)$ Nordic square, and we need to find the minimum number of paths for this smaller square.\n\n**Dynamic Programming:**\nFor each cell $(i, n)$ in the bottom row, let $g(i)$ be the minimum number of paths ending at that cell. Then, the total number of paths including $(i, n)$ is $1 + \\sum_{j=1}^{i-1} g(j)$. So, we have:\n\n$$\nf(n) = 1 + \\min_{1 \\leq i \\leq n} \\left( \\sum_{j=1}^{i-1} g(j) \\right)\n$$\n\n**Calculating $g(i)$:**\nFor each $i$, the cell $(i, n)$ is a valley if and only if all cells below it (in the same column) contain smaller numbers. So, $g(i)$ is the minimum number of paths in the $(n-1) \\times (n-1)$ square where the bottom row is restricted to numbers $1, 2, ..., i-1$. This is simply $f(n-1)$.\n\n**Inductive Step:**\nUsing the recursive definition and the dynamic programming equation, we can prove by induction that $f(n) = n \\cdot f(n-1)$ for $n \\geq 3$.\n\n**Final Solution:**\nCombining the base cases and the inductive step, we get:\n\n$$\nf(n) = n!\n$$\n\nSo, the smallest possible total number of uphill paths in an $n \\times n$ Nordic square is $\\boxed{n!}$.", "answer": "2n^2-2n+1"}
{"original_question": "Determine all pairs $(a, b)$ of positive integers for which there exist positive integers $g$ and $N$ such that\n\n$\\gcd(a^n + b, b^n + a) = g$\n\nholds for all integers $n \\ge N$. (Note that $\\gcd(x, y)$ denotes the greatest common divisor of integers $x$ and $y$.)", "question": "Determine all pairs $(a, b)$ of positive integers for which there exist positive integers $g$ and $N$ such that\n\n$\\gcd(a^n + b, b^n + a) = g$\n\nholds for all integers $n \\ge N$. (Note that $\\gcd(x, y)$ denotes the greatest common divisor of integers $x$ and $y$.)", "response": "Let's think step by step.\n\nWe can rewrite the given equation as:\n\n$$\\gcd(a^n + b, b^n + a) = \\gcd(a, b) \\cdot \\gcd(a^{n-1} - b^{n-1}, a + b).$$\n\nFor the greatest common divisor to be constant for all $n \\ge N$, we must have:\n\n1. $\\gcd(a, b) = g$ for all $n \\ge N$.\n2. $\\gcd(a^{n-1} - b^{n-1}, a + b) = 1$ for all $n \\ge N$.\n\nFrom (1), we know that $a$ and $b$ are relatively prime, i.e., $\\gcd(a, b) = 1$.\n\nNow, from (2), we see that $a + b$ and $a^{n-1} - b^{n-1}$ are relatively prime for all $n \\ge N$. This implies that $a + b$ and $a - b$ are relatively prime, as $a^{n-1} - b^{n-1}$ can be factored as $(a + b)(a^{n-2} + a^{n-3}b + ... + b^{n-2})$ for $n \\ge 2$.\n\nTherefore, the only pairs $(a, b)$ that satisfy the given condition are those where $a + b = 1$, i.e., $a = 1$ and $b = 0$, or vice versa.\n\nSo, the solution is:\n\n$$\\boxed{(a, b) \\in \\{(1, 0), (0, 1)\\}}$$", "answer": "(1, 1)"}
